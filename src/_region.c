/* Generated by Pyrex 0.9.8.5 on Thu Jul  2 02:22:04 2009 */

#define PY_SSIZE_T_CLEAN
#include "Python.h"
#include "structmember.h"
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#if PY_VERSION_HEX < 0x02050000
  typedef int Py_ssize_t;
  #define PY_SSIZE_T_MAX INT_MAX
  #define PY_SSIZE_T_MIN INT_MIN
  #define PyInt_FromSsize_t(z) PyInt_FromLong(z)
  #define PyInt_AsSsize_t(o)	PyInt_AsLong(o)
#endif
#if !defined(WIN32) && !defined(MS_WINDOWS)
  #ifndef __stdcall
    #define __stdcall
  #endif
  #ifndef __cdecl
    #define __cdecl
  #endif
#endif
#ifdef __cplusplus
#define __PYX_EXTERN_C extern "C"
#else
#define __PYX_EXTERN_C extern
#endif
#include <math.h>
#include "stdio.h"
#include "stdlib.h"
#include "math.h"
#include "numpy/arrayobject.h"


typedef struct {PyObject **p; int i; char *s; long n;} __Pyx_StringTabEntry; /*proto*/

static PyObject *__pyx_m;
static PyObject *__pyx_b;
static int __pyx_lineno;
static char *__pyx_filename;
static char **__pyx_f;

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name); /*proto*/

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/

static int __Pyx_GetStarArgs(PyObject **args, PyObject **kwds, char *kwd_list[],     Py_ssize_t nargs, PyObject **args2, PyObject **kwds2, char rqd_kwds[]); /*proto*/

static PyObject *__Pyx_GetItemInt(PyObject *o, Py_ssize_t i); /*proto*/

static int __Pyx_SetItemInt(PyObject *o, Py_ssize_t i, PyObject *v); /*proto*/

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/

static int __Pyx_SetVtable(PyObject *dict, void *vtable); /*proto*/

static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name, long size);  /*proto*/

static PyObject *__Pyx_ImportModule(char *name); /*proto*/

static PyObject *__Pyx_CreateClass(PyObject *bases, PyObject *dict, PyObject *name, char *modname); /*proto*/

static void __Pyx_AddTraceback(char *funcname); /*proto*/

/* Declarations from c_numpy */

static PyTypeObject *__pyx_ptype_7c_numpy_dtype = 0;
static PyTypeObject *__pyx_ptype_7c_numpy_ndarray = 0;
static PyTypeObject *__pyx_ptype_7c_numpy_flatiter = 0;
static PyTypeObject *__pyx_ptype_7c_numpy_broadcast = 0;

/* Declarations from c_python */


/* Declarations from _region */


/* Declarations from implementation of _region */

typedef int __pyx_t_7_region_Py_ssize_t;

struct __pyx_t_7_region_Metric {
  double x0;
  double y0;
  double g_x;
  double g_y;
};

struct __pyx_t_7_region__RegionContext {
  int (*update_metric)(struct __pyx_t_7_region_Metric *);
};

struct __pyx_obj_7_region_RegionContext {
  PyObject_HEAD
  struct __pyx_vtabstruct_7_region_RegionContext *__pyx_vtab;
  struct __pyx_t_7_region__RegionContext c;
};

struct __pyx_obj_7_region_RegionBase {
  PyObject_HEAD
  struct __pyx_vtabstruct_7_region_RegionBase *__pyx_vtab;
  struct __pyx_t_7_region_Metric m;
  struct __pyx_obj_7_region_RegionContext *c;
};

struct __pyx_obj_7_region_RegionNot {
  struct __pyx_obj_7_region_RegionBase __pyx_base;
  struct __pyx_obj_7_region_RegionBase *child_region;
};

struct __pyx_obj_7_region_RegionList {
  struct __pyx_obj_7_region_RegionBase __pyx_base;
  PyObject *child_regions;
};

struct __pyx_obj_7_region_RegionOrList {
  struct __pyx_obj_7_region_RegionList __pyx_base;
};

struct __pyx_obj_7_region_RegionAndList {
  struct __pyx_obj_7_region_RegionList __pyx_base;
};

struct __pyx_obj_7_region_RegionAnd_OLD {
  struct __pyx_obj_7_region_RegionBase __pyx_base;
  struct __pyx_obj_7_region_RegionBase *child_region1;
  struct __pyx_obj_7_region_RegionBase *child_region2;
};

struct __pyx_obj_7_region_RegionOr_OLD {
  struct __pyx_obj_7_region_RegionBase __pyx_base;
  struct __pyx_obj_7_region_RegionBase *child_region1;
  struct __pyx_obj_7_region_RegionBase *child_region2;
};

struct __pyx_obj_7_region_Transformed {
  struct __pyx_obj_7_region_RegionBase __pyx_base;
  double T11;
  double T12;
  double T21;
  double T22;
  double TI11;
  double TI12;
  double TI21;
  double TI22;
  double origin_x;
  double origin_y;
  struct __pyx_obj_7_region_RegionBase *child_region;
};

struct __pyx_obj_7_region_Transform {
  struct __pyx_obj_7_region_RegionBase __pyx_base;
  struct __pyx_obj_7_region_RegionBase *child_region;
};

struct __pyx_obj_7_region_Rotated {
  struct __pyx_obj_7_region_Transform __pyx_base;
  double sin_theta;
  double cos_theta;
  double origin_x;
  double origin_y;
};

struct __pyx_obj_7_region_Translated {
  struct __pyx_obj_7_region_Transform __pyx_base;
  double dx;
  double dy;
};

struct __pyx_obj_7_region_Circle {
  struct __pyx_obj_7_region_RegionBase __pyx_base;
  double xc;
  double yc;
  double radius;
  double radius2;
};

struct __pyx_obj_7_region_Ellipse {
  struct __pyx_obj_7_region_RegionBase __pyx_base;
  double xc;
  double yc;
  double radius_major;
  double radius_major_2;
  double radius_minor;
  double radius_minor_2;
  double radius_major_2_radius_minor_2;
};

struct __pyx_obj_7_region_Box {
  struct __pyx_obj_7_region_RegionBase __pyx_base;
  double x1;
  double x2;
  double y1;
  double y2;
};

struct __pyx_obj_7_region_Polygon {
  struct __pyx_obj_7_region_RegionBase __pyx_base;
  PyArrayObject *xa;
  PyArrayObject *ya;
  double *x;
  double *y;
  int n;
};


struct __pyx_vtabstruct_7_region_RegionContext {
  PyObject *(*set_update_func)(struct __pyx_obj_7_region_RegionContext *,int (*)(struct __pyx_t_7_region_Metric *));
};
static struct __pyx_vtabstruct_7_region_RegionContext *__pyx_vtabptr_7_region_RegionContext;


struct __pyx_vtabstruct_7_region_RegionBase {
  PyObject *(*update_metric)(struct __pyx_obj_7_region_RegionBase *);
  PyObject *(*metric_set_origin)(struct __pyx_obj_7_region_RegionBase *,double,double,struct __pyx_obj_7_region_RegionContext *);
  npy_bool (*_inside)(struct __pyx_obj_7_region_RegionBase *,double,double);
  PyArrayObject *(*_mask)(struct __pyx_obj_7_region_RegionBase *,npy_intp,npy_intp);
};
static struct __pyx_vtabstruct_7_region_RegionBase *__pyx_vtabptr_7_region_RegionBase;


struct __pyx_vtabstruct_7_region_RegionNot {
  struct __pyx_vtabstruct_7_region_RegionBase __pyx_base;
};
static struct __pyx_vtabstruct_7_region_RegionNot *__pyx_vtabptr_7_region_RegionNot;


struct __pyx_vtabstruct_7_region_RegionList {
  struct __pyx_vtabstruct_7_region_RegionBase __pyx_base;
};
static struct __pyx_vtabstruct_7_region_RegionList *__pyx_vtabptr_7_region_RegionList;


struct __pyx_vtabstruct_7_region_RegionOrList {
  struct __pyx_vtabstruct_7_region_RegionList __pyx_base;
};
static struct __pyx_vtabstruct_7_region_RegionOrList *__pyx_vtabptr_7_region_RegionOrList;


struct __pyx_vtabstruct_7_region_RegionAndList {
  struct __pyx_vtabstruct_7_region_RegionList __pyx_base;
};
static struct __pyx_vtabstruct_7_region_RegionAndList *__pyx_vtabptr_7_region_RegionAndList;


struct __pyx_vtabstruct_7_region_RegionAnd_OLD {
  struct __pyx_vtabstruct_7_region_RegionBase __pyx_base;
};
static struct __pyx_vtabstruct_7_region_RegionAnd_OLD *__pyx_vtabptr_7_region_RegionAnd_OLD;


struct __pyx_vtabstruct_7_region_RegionOr_OLD {
  struct __pyx_vtabstruct_7_region_RegionBase __pyx_base;
};
static struct __pyx_vtabstruct_7_region_RegionOr_OLD *__pyx_vtabptr_7_region_RegionOr_OLD;


struct __pyx_vtabstruct_7_region_Transformed {
  struct __pyx_vtabstruct_7_region_RegionBase __pyx_base;
  int (*_transform)(struct __pyx_obj_7_region_Transformed *,double,double,double *,double *);
};
static struct __pyx_vtabstruct_7_region_Transformed *__pyx_vtabptr_7_region_Transformed;


struct __pyx_vtabstruct_7_region_Transform {
  struct __pyx_vtabstruct_7_region_RegionBase __pyx_base;
  int (*_transform)(struct __pyx_obj_7_region_Transform *,double,double,double *,double *);
};
static struct __pyx_vtabstruct_7_region_Transform *__pyx_vtabptr_7_region_Transform;


struct __pyx_vtabstruct_7_region_Rotated {
  struct __pyx_vtabstruct_7_region_Transform __pyx_base;
};
static struct __pyx_vtabstruct_7_region_Rotated *__pyx_vtabptr_7_region_Rotated;


struct __pyx_vtabstruct_7_region_Translated {
  struct __pyx_vtabstruct_7_region_Transform __pyx_base;
};
static struct __pyx_vtabstruct_7_region_Translated *__pyx_vtabptr_7_region_Translated;


struct __pyx_vtabstruct_7_region_Circle {
  struct __pyx_vtabstruct_7_region_RegionBase __pyx_base;
  PyObject *(*_set_v)(struct __pyx_obj_7_region_Circle *,double,double,double);
  PyObject *(*_get_v)(struct __pyx_obj_7_region_Circle *);
};
static struct __pyx_vtabstruct_7_region_Circle *__pyx_vtabptr_7_region_Circle;


struct __pyx_vtabstruct_7_region_Ellipse {
  struct __pyx_vtabstruct_7_region_RegionBase __pyx_base;
};
static struct __pyx_vtabstruct_7_region_Ellipse *__pyx_vtabptr_7_region_Ellipse;


struct __pyx_vtabstruct_7_region_Box {
  struct __pyx_vtabstruct_7_region_RegionBase __pyx_base;
};
static struct __pyx_vtabstruct_7_region_Box *__pyx_vtabptr_7_region_Box;


struct __pyx_vtabstruct_7_region_Polygon {
  struct __pyx_vtabstruct_7_region_RegionBase __pyx_base;
};
static struct __pyx_vtabstruct_7_region_Polygon *__pyx_vtabptr_7_region_Polygon;

static PyTypeObject *__pyx_ptype_7_region_RegionContext = 0;
static PyTypeObject *__pyx_ptype_7_region_RegionBase = 0;
static PyTypeObject *__pyx_ptype_7_region_RegionNot = 0;
static PyTypeObject *__pyx_ptype_7_region_RegionList = 0;
static PyTypeObject *__pyx_ptype_7_region_RegionOrList = 0;
static PyTypeObject *__pyx_ptype_7_region_RegionAndList = 0;
static PyTypeObject *__pyx_ptype_7_region_RegionAnd_OLD = 0;
static PyTypeObject *__pyx_ptype_7_region_RegionOr_OLD = 0;
static PyTypeObject *__pyx_ptype_7_region_Transformed = 0;
static PyTypeObject *__pyx_ptype_7_region_Transform = 0;
static PyTypeObject *__pyx_ptype_7_region_Rotated = 0;
static PyTypeObject *__pyx_ptype_7_region_Translated = 0;
static PyTypeObject *__pyx_ptype_7_region_Circle = 0;
static PyTypeObject *__pyx_ptype_7_region_Ellipse = 0;
static PyTypeObject *__pyx_ptype_7_region_Box = 0;
static PyTypeObject *__pyx_ptype_7_region_Polygon = 0;
static struct __pyx_obj_7_region_RegionContext *__pyx_v_7_region_metric_wcs;
static int __pyx_f_7_region_MetricSetOrigin(struct __pyx_t_7_region_Metric *,double,double); /*proto*/
static int __pyx_f_7_region__update_metric_default(struct __pyx_t_7_region_Metric *); /*proto*/
static int __pyx_f_7_region__update_metric_wcs(struct __pyx_t_7_region_Metric *); /*proto*/

static char __pyx_k1[] = "BaseClassInitException";
static char __pyx_k2[] = "set_context";
static char __pyx_k3[] = "RegionAnd";
static char __pyx_k4[] = "RegionOr";
static char __pyx_k5[] = "shape";
static char __pyx_k6[] = "shape of the inut image must be 2d";
static char __pyx_k7[] = "__pyx_vtable__";
static char __pyx_k8[] = "All elements should be subclass of RegionBase type: %s";
static char __pyx_k9[] = "_check_type_of_list";
static char __pyx_k10[] = "__class__";
static char __pyx_k11[] = "y";
static char __pyx_k12[] = "Or";
static char __pyx_k13[] = "And";
static char __pyx_k14[] = "asList";
static char __pyx_k15[] = "__init__";
static char __pyx_k16[] = "Circle(%f, %f, %f)";
static char __pyx_k17[] = "Ellipse(%f, %f, %f, %f)";
static char __pyx_k18[] = "A doc string can go here.";
static char __pyx_k19[] = "NotYetImplemented";

static PyObject *__pyx_n_And;
static PyObject *__pyx_n_BaseClassInitException;
static PyObject *__pyx_n_NotYetImplemented;
static PyObject *__pyx_n_Or;
static PyObject *__pyx_n_RegionAnd;
static PyObject *__pyx_n_RegionOr;
static PyObject *__pyx_n___class__;
static PyObject *__pyx_n___init__;
static PyObject *__pyx_n__check_type_of_list;
static PyObject *__pyx_n_asList;
static PyObject *__pyx_n_set_context;
static PyObject *__pyx_n_shape;
static PyObject *__pyx_n_y;

static PyObject *__pyx_k6p;
static PyObject *__pyx_k8p;
static PyObject *__pyx_k16p;
static PyObject *__pyx_k17p;

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_n_And, 1, __pyx_k13, sizeof(__pyx_k13)},
  {&__pyx_n_BaseClassInitException, 1, __pyx_k1, sizeof(__pyx_k1)},
  {&__pyx_n_NotYetImplemented, 1, __pyx_k19, sizeof(__pyx_k19)},
  {&__pyx_n_Or, 1, __pyx_k12, sizeof(__pyx_k12)},
  {&__pyx_n_RegionAnd, 1, __pyx_k3, sizeof(__pyx_k3)},
  {&__pyx_n_RegionOr, 1, __pyx_k4, sizeof(__pyx_k4)},
  {&__pyx_n___class__, 1, __pyx_k10, sizeof(__pyx_k10)},
  {&__pyx_n___init__, 1, __pyx_k15, sizeof(__pyx_k15)},
  {&__pyx_n__check_type_of_list, 1, __pyx_k9, sizeof(__pyx_k9)},
  {&__pyx_n_asList, 1, __pyx_k14, sizeof(__pyx_k14)},
  {&__pyx_n_set_context, 1, __pyx_k2, sizeof(__pyx_k2)},
  {&__pyx_n_shape, 1, __pyx_k5, sizeof(__pyx_k5)},
  {&__pyx_n_y, 1, __pyx_k11, sizeof(__pyx_k11)},
  {&__pyx_k6p, 0, __pyx_k6, sizeof(__pyx_k6)},
  {&__pyx_k8p, 0, __pyx_k8, sizeof(__pyx_k8)},
  {&__pyx_k16p, 0, __pyx_k16, sizeof(__pyx_k16)},
  {&__pyx_k17p, 0, __pyx_k17, sizeof(__pyx_k17)},
  {0, 0, 0, 0}
};

static struct __pyx_obj_7_region_RegionContext *__pyx_d1;
static struct __pyx_obj_7_region_RegionContext *__pyx_d2;
static struct __pyx_obj_7_region_RegionContext *__pyx_d3;
static struct __pyx_obj_7_region_RegionContext *__pyx_d4;


/* Implementation of _region */

static int __pyx_f_7_region_MetricSetOrigin(struct __pyx_t_7_region_Metric *__pyx_v_m,double __pyx_v_x0,double __pyx_v_y0) {
  int __pyx_r;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":44 */
  __pyx_v_m->x0 = __pyx_v_x0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":45 */
  __pyx_v_m->y0 = __pyx_v_y0;

  __pyx_r = 0;
  return __pyx_r;
}

static int __pyx_f_7_region_13RegionContext___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_13RegionContext___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return -1;
  Py_INCREF(__pyx_v_self);

  __pyx_r = 0;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_13RegionContext_set_update_func(struct __pyx_obj_7_region_RegionContext *__pyx_v_self,int (*__pyx_v_update_metric)(struct __pyx_t_7_region_Metric *)) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  __pyx_v_self->c.update_metric = __pyx_v_update_metric;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region__update_metric_default(struct __pyx_t_7_region_Metric *__pyx_v_m) {
  int __pyx_r;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":65 */
  __pyx_v_m->g_x = 1.;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":66 */
  __pyx_v_m->g_y = 1.;

  __pyx_r = 0;
  return __pyx_r;
}

static int __pyx_f_7_region__update_metric_wcs(struct __pyx_t_7_region_Metric *__pyx_v_m) {
  double __pyx_v_theta;
  int __pyx_r;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":71 */
  __pyx_v_theta = ((__pyx_v_m->y0 / 180.) * 3.1415926);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":73 */
  __pyx_v_m->g_x = cos(__pyx_v_theta);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":74 */
  __pyx_v_m->g_y = 1.;

  __pyx_r = 0;
  return __pyx_r;
}

static int __pyx_f_7_region_10RegionBase___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_10RegionBase___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return -1;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_BaseClassInitException); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 105; goto __pyx_L1;}
  __pyx_2 = PyObject_CallObject(__pyx_1, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 105; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __Pyx_Raise(__pyx_2, 0, 0);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 105; goto __pyx_L1;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("_region.RegionBase.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionBase_update_metric(struct __pyx_obj_7_region_RegionBase *__pyx_v_self) {
  PyObject *__pyx_r;
  int __pyx_1;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = PyObject_IsTrue(((PyObject *)__pyx_v_self->c)); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 108; goto __pyx_L1;}
  if (__pyx_1) {
    __pyx_v_self->c->c.update_metric((&__pyx_v_self->m));
    goto __pyx_L2;
  }
  /*else*/ {
    __pyx_f_7_region__update_metric_default((&__pyx_v_self->m));
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.RegionBase.update_metric");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionBase_set_context(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7_region_10RegionBase_set_context(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7_region_RegionContext *__pyx_v_cnt = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"cnt",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_cnt)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_cnt);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_cnt), __pyx_ptype_7_region_RegionContext, 1, "cnt")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 113; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":114 */
  Py_INCREF(((PyObject *)__pyx_v_cnt));
  Py_DECREF(((PyObject *)((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self)->c));
  ((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self)->c = __pyx_v_cnt;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":115 */
  __pyx_1 = ((struct __pyx_vtabstruct_7_region_RegionBase *)((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self)->__pyx_vtab)->update_metric(((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 115; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.RegionBase.set_context");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_cnt);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionBase_metric_set_origin(struct __pyx_obj_7_region_RegionBase *__pyx_v_self,double __pyx_v_xc,double __pyx_v_yc,struct __pyx_obj_7_region_RegionContext *__pyx_v_cnt) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_cnt);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":121 */
  __pyx_f_7_region_MetricSetOrigin((&__pyx_v_self->m),__pyx_v_xc,__pyx_v_yc);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":122 */
  __pyx_1 = PyObject_IsTrue(((PyObject *)__pyx_v_cnt)); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 122; goto __pyx_L1;}
  if (__pyx_1) {
    __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_self), __pyx_n_set_context); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_cnt));
    PyTuple_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_cnt));
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 123; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    goto __pyx_L2;
  }
  /*else*/ {
    __pyx_2 = ((struct __pyx_vtabstruct_7_region_RegionBase *)__pyx_v_self->__pyx_vtab)->update_metric(__pyx_v_self); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 125; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_region.RegionBase.metric_set_origin");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_cnt);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionBase___invert__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7_region_10RegionBase___invert__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  __pyx_2 = PyObject_CallObject(((PyObject *)__pyx_ptype_7_region_RegionNot), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 130; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("_region.RegionBase.__invert__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionBase___and__(PyObject *__pyx_v_self, PyObject *__pyx_v_o); /*proto*/
static PyObject *__pyx_f_7_region_10RegionBase___and__(PyObject *__pyx_v_self, PyObject *__pyx_v_o) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_o);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_o), __pyx_ptype_7_region_RegionBase, 1, "o")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 132; goto __pyx_L1;}
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_RegionAnd); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 133; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 133; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
  Py_INCREF(__pyx_v_o);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_o);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 133; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_region.RegionBase.__and__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_o);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionBase___or__(PyObject *__pyx_v_self, PyObject *__pyx_v_o); /*proto*/
static PyObject *__pyx_f_7_region_10RegionBase___or__(PyObject *__pyx_v_self, PyObject *__pyx_v_o) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_o);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_o), __pyx_ptype_7_region_RegionBase, 1, "o")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 135; goto __pyx_L1;}
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_RegionOr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 136; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 136; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
  Py_INCREF(__pyx_v_o);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_o);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 136; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_region.RegionBase.__or__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_o);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_10RegionBase__inside(struct __pyx_obj_7_region_RegionBase *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  npy_bool __pyx_r;
  Py_INCREF(__pyx_v_self);
  __pyx_r = 0;
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionBase_mask(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7_region_10RegionBase_mask(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_img = 0;
  int __pyx_v_nx;
  int __pyx_v_ny;
  PyObject *__pyx_v_shape;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"img",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_img)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_img);
  __pyx_v_shape = Py_None; Py_INCREF(Py_None);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":144 */
  __pyx_1 = PyObject_HasAttr(__pyx_v_img,__pyx_n_shape); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
  if (__pyx_1) {
    __pyx_2 = PyObject_GetAttr(__pyx_v_img, __pyx_n_shape); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 145; goto __pyx_L1;}
    Py_DECREF(__pyx_v_shape);
    __pyx_v_shape = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L2;
  }
  __pyx_1 = PyObject_IsInstance(__pyx_v_img,((PyObject *)(&PyTuple_Type))); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 146; goto __pyx_L1;}
  if (__pyx_1) {
    Py_INCREF(__pyx_v_img);
    Py_DECREF(__pyx_v_shape);
    __pyx_v_shape = __pyx_v_img;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":149 */
  __pyx_1 = (PySequence_Length(__pyx_v_shape) != 2);
  if (__pyx_1) {
    __Pyx_Raise(__pyx_k6p, 0, 0);
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":152 */
  __pyx_2 = PySequence_GetItem(__pyx_v_shape,0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L1;}
  __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_ny = __pyx_1;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":153 */
  __pyx_2 = PySequence_GetItem(__pyx_v_shape,1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 153; goto __pyx_L1;}
  __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 153; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_v_nx = __pyx_1;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":155 */
  __pyx_2 = ((PyObject *)((struct __pyx_vtabstruct_7_region_RegionBase *)((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self)->__pyx_vtab)->_mask(((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self),__pyx_v_nx,__pyx_v_ny)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 155; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("_region.RegionBase.mask");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_shape);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_img);
  return __pyx_r;
}

static PyArrayObject *__pyx_f_7_region_10RegionBase__mask(struct __pyx_obj_7_region_RegionBase *__pyx_v_self,npy_intp __pyx_v_nx,npy_intp __pyx_v_ny) {
  npy_intp __pyx_v_ny_nx[2];
  PyArrayObject *__pyx_v_ra;
  npy_bool *__pyx_v_rd;
  int __pyx_v_iy;
  int __pyx_v_ix;
  PyArrayObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_ra = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":164 */
  (__pyx_v_ny_nx[0]) = __pyx_v_ny;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":165 */
  (__pyx_v_ny_nx[1]) = __pyx_v_nx;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":167 */
  __pyx_1 = PyArray_EMPTY(2,__pyx_v_ny_nx,NPY_BOOL,0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; goto __pyx_L1;}
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7c_numpy_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 167; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_ra));
  __pyx_v_ra = ((PyArrayObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":170 */
  __pyx_v_rd = ((npy_bool *)PyArray_DATA(__pyx_v_ra));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":172 */
  for (__pyx_v_iy = 0; __pyx_v_iy < __pyx_v_ny; ++__pyx_v_iy) {
    for (__pyx_v_ix = 0; __pyx_v_ix < __pyx_v_nx; ++__pyx_v_ix) {

      /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":176 */
      (__pyx_v_rd[0]) = ((struct __pyx_vtabstruct_7_region_RegionBase *)__pyx_v_self->__pyx_vtab)->_inside(__pyx_v_self,(__pyx_v_ix + 1),(__pyx_v_iy + 1));

      /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":177 */
      __pyx_v_rd = (__pyx_v_rd + 1);
    }
  }

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":179 */
  Py_INCREF(((PyObject *)__pyx_v_ra));
  __pyx_r = __pyx_v_ra;
  goto __pyx_L0;

  __pyx_r = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.RegionBase._mask");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ra);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionBase_inside1(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7_region_10RegionBase_inside1(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  double __pyx_v_x;
  double __pyx_v_y;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"x","y",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "dd", __pyx_argnames, &__pyx_v_x, &__pyx_v_y)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = PyInt_FromLong(((struct __pyx_vtabstruct_7_region_RegionBase *)((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self)->__pyx_vtab)->_inside(((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self),__pyx_v_x,__pyx_v_y)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 182; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.RegionBase.inside1");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionBase_inside(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7_region_10RegionBase_inside(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_x = 0;
  PyObject *__pyx_v_y = 0;
  PyArrayObject *__pyx_v_xa;
  PyArrayObject *__pyx_v_ya;
  PyArrayObject *__pyx_v_ra;
  double *__pyx_v_xd;
  double *__pyx_v_yd;
  npy_bool *__pyx_v_rd;
  int __pyx_v_i;
  int __pyx_v_n;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"x","y",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_x, &__pyx_v_y)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_x);
  Py_INCREF(__pyx_v_y);
  __pyx_v_xa = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_ya = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_ra = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":198 */
  __pyx_1 = PyArray_ContiguousFromAny(__pyx_v_x,NPY_DOUBLE,1,0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; goto __pyx_L1;}
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7c_numpy_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 198; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_xa));
  __pyx_v_xa = ((PyArrayObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":199 */
  __pyx_1 = PyArray_ContiguousFromAny(__pyx_v_y,NPY_DOUBLE,1,0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 199; goto __pyx_L1;}
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7c_numpy_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 199; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_ya));
  __pyx_v_ya = ((PyArrayObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":201 */
  __pyx_1 = PyArray_EMPTY(__pyx_v_xa->nd,__pyx_v_xa->dimensions,NPY_BOOL,0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7c_numpy_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_ra));
  __pyx_v_ra = ((PyArrayObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":204 */
  __pyx_v_xd = ((double *)PyArray_DATA(__pyx_v_xa));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":205 */
  __pyx_v_yd = ((double *)PyArray_DATA(__pyx_v_ya));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":206 */
  __pyx_v_rd = ((npy_bool *)PyArray_DATA(__pyx_v_ra));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":208 */
  __pyx_v_n = PyArray_SIZE(__pyx_v_xa);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":210 */
  for (__pyx_v_i = 0; __pyx_v_i < __pyx_v_n; ++__pyx_v_i) {
    (__pyx_v_rd[__pyx_v_i]) = ((struct __pyx_vtabstruct_7_region_RegionBase *)((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self)->__pyx_vtab)->_inside(((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self),(__pyx_v_xd[__pyx_v_i]),(__pyx_v_yd[__pyx_v_i]));
  }

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":216 */
  Py_INCREF(((PyObject *)__pyx_v_ra));
  __pyx_r = ((PyObject *)__pyx_v_ra);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.RegionBase.inside");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_xa);
  Py_DECREF(__pyx_v_ya);
  Py_DECREF(__pyx_v_ra);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_x);
  Py_DECREF(__pyx_v_y);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionBase_inside2(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7_region_10RegionBase_inside2(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_x = 0;
  PyObject *__pyx_v_y = 0;
  PyArrayObject *__pyx_v_xa;
  PyArrayObject *__pyx_v_ya;
  PyArrayObject *__pyx_v_ra;
  double *__pyx_v_xd;
  double *__pyx_v_yd;
  npy_bool *__pyx_v_rd;
  int __pyx_v_i;
  int (*__pyx_v__inside_ptr)(struct __pyx_obj_7_region_RegionBase *,double,double);
  int __pyx_v_n;
  PyObject *__pyx_v_cobj;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"x","y",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_x, &__pyx_v_y)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_x);
  Py_INCREF(__pyx_v_y);
  __pyx_v_xa = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_ya = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_ra = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  __pyx_v_cobj = Py_None; Py_INCREF(Py_None);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":232 */
  __pyx_1 = PyObject_GetAttrString(__pyx_v_self,__pyx_k7); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 232; goto __pyx_L1;}
  Py_DECREF(__pyx_v_cobj);
  __pyx_v_cobj = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":234 */
  __pyx_v__inside_ptr = ((int (*)(struct __pyx_obj_7_region_RegionBase *,double,double))PyCObject_AsVoidPtr(__pyx_v_cobj));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":236 */
  __pyx_1 = PyArray_ContiguousFromAny(__pyx_v_x,NPY_DOUBLE,1,0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 236; goto __pyx_L1;}
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7c_numpy_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 236; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_xa));
  __pyx_v_xa = ((PyArrayObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":237 */
  __pyx_1 = PyArray_ContiguousFromAny(__pyx_v_y,NPY_DOUBLE,1,0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7c_numpy_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_ya));
  __pyx_v_ya = ((PyArrayObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":239 */
  __pyx_1 = PyArray_EMPTY(__pyx_v_xa->nd,__pyx_v_xa->dimensions,NPY_BOOL,0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 239; goto __pyx_L1;}
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7c_numpy_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 239; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_ra));
  __pyx_v_ra = ((PyArrayObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":242 */
  __pyx_v_xd = ((double *)PyArray_DATA(__pyx_v_xa));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":243 */
  __pyx_v_yd = ((double *)PyArray_DATA(__pyx_v_ya));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":244 */
  __pyx_v_rd = ((npy_bool *)PyArray_DATA(__pyx_v_ra));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":246 */
  __pyx_v_n = PyArray_SIZE(__pyx_v_xa);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":247 */
  for (__pyx_v_i = 0; __pyx_v_i < __pyx_v_n; ++__pyx_v_i) {
    (__pyx_v_rd[__pyx_v_i]) = ((struct __pyx_vtabstruct_7_region_RegionBase *)((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self)->__pyx_vtab)->_inside(((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self),(__pyx_v_xd[__pyx_v_i]),(__pyx_v_yd[__pyx_v_i]));
  }

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":252 */
  Py_INCREF(((PyObject *)__pyx_v_ra));
  __pyx_r = ((PyObject *)__pyx_v_ra);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.RegionBase.inside2");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_xa);
  Py_DECREF(__pyx_v_ya);
  Py_DECREF(__pyx_v_ra);
  Py_DECREF(__pyx_v_cobj);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_x);
  Py_DECREF(__pyx_v_y);
  return __pyx_r;
}

static int __pyx_f_7_region_9RegionNot___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_9RegionNot___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7_region_RegionBase *__pyx_v_child_region = 0;
  int __pyx_r;
  static char *__pyx_argnames[] = {"child_region",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_child_region)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_child_region);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_child_region), __pyx_ptype_7_region_RegionBase, 1, "child_region")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 258; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_child_region));
  Py_DECREF(((PyObject *)((struct __pyx_obj_7_region_RegionNot *)__pyx_v_self)->child_region));
  ((struct __pyx_obj_7_region_RegionNot *)__pyx_v_self)->child_region = __pyx_v_child_region;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.RegionNot.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_child_region);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_9RegionNot__inside(struct __pyx_obj_7_region_RegionNot *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  npy_bool __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_r = (!((struct __pyx_vtabstruct_7_region_RegionBase *)__pyx_v_self->child_region->__pyx_vtab)->_inside(__pyx_v_self->child_region,__pyx_v_x,__pyx_v_y));
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionList__check_type_of_list(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7_region_10RegionList__check_type_of_list(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_kl = 0;
  PyObject *__pyx_v_k;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"kl",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_kl)) return 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_kl);
  __pyx_v_k = Py_None; Py_INCREF(Py_None);
  __pyx_1 = PyObject_GetIter(__pyx_v_kl); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 269; goto __pyx_L1;}
  for (;;) {
    __pyx_2 = PyIter_Next(__pyx_1);
    if (!__pyx_2) {
      if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 269; goto __pyx_L1;}
      break;
    }
    Py_DECREF(__pyx_v_k);
    __pyx_v_k = __pyx_2;
    __pyx_2 = 0;
    __pyx_3 = PyObject_IsInstance(__pyx_v_k,((PyObject *)__pyx_ptype_7_region_RegionBase)); if (__pyx_3 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 270; goto __pyx_L1;}
    __pyx_4 = (!__pyx_3);
    if (__pyx_4) {
      __pyx_2 = PyNumber_Remainder(__pyx_k8p, __pyx_v_k); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 271; goto __pyx_L1;}
      __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 271; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_5, 0, __pyx_2);
      __pyx_2 = 0;
      __pyx_2 = PyObject_CallObject(PyExc_TypeError, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 271; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __Pyx_Raise(__pyx_2, 0, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 271; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;
  }
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("_region.RegionList._check_type_of_list");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_k);
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_kl);
  return __pyx_r;
}

static int __pyx_f_7_region_10RegionList___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_10RegionList___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_kl = 0;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (__Pyx_GetStarArgs(&__pyx_args, &__pyx_kwds, __pyx_argnames, 0, &__pyx_v_kl, 0, 0) < 0) return -1;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) {
    Py_XDECREF(__pyx_args);
    Py_XDECREF(__pyx_kwds);
    Py_XDECREF(__pyx_v_kl);
    return -1;
  }
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":274 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n__check_type_of_list); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 274; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 274; goto __pyx_L1;}
  Py_INCREF(__pyx_v_kl);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_kl);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 274; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":275 */
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; goto __pyx_L1;}
  Py_INCREF(__pyx_v_kl);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_kl);
  __pyx_2 = PyObject_CallObject(((PyObject *)(&PyList_Type)), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 275; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions);
  ((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions = __pyx_2;
  __pyx_2 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_region.RegionList.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_XDECREF(__pyx_v_kl);
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_XDECREF(__pyx_args);
  Py_XDECREF(__pyx_kwds);
  return __pyx_r;
}

static Py_ssize_t __pyx_f_7_region_10RegionList___len__(PyObject *__pyx_v_self); /*proto*/
static Py_ssize_t __pyx_f_7_region_10RegionList___len__(PyObject *__pyx_v_self) {
  Py_ssize_t __pyx_r;
  Py_ssize_t __pyx_1;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_1 = PyObject_Length(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 278; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.RegionList.__len__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionList___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_arg_x); /*proto*/
static PyObject *__pyx_f_7_region_10RegionList___getitem__(PyObject *__pyx_v_self, PyObject *__pyx_arg_x) {
  Py_ssize_t __pyx_v_x;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_v_x = PyInt_AsSsize_t(__pyx_arg_x); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 280; goto __pyx_L1;}
  __pyx_1 = __Pyx_GetItemInt(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions, __pyx_v_x); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 281; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.RegionList.__getitem__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_10RegionList___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_arg_x, PyObject *__pyx_v_y); /*proto*/
static int __pyx_f_7_region_10RegionList___setitem__(PyObject *__pyx_v_self, PyObject *__pyx_arg_x, PyObject *__pyx_v_y) {
  Py_ssize_t __pyx_v_x;
  int __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_y);
  __pyx_v_x = PyInt_AsSsize_t(__pyx_arg_x); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 283; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_y), __pyx_ptype_7_region_RegionBase, 1, "y")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 283; goto __pyx_L1;}
  if (__Pyx_SetItemInt(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions, __pyx_v_x, __pyx_v_y) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 284; goto __pyx_L1;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.RegionList.__setitem__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_y);
  return __pyx_r;
}

static int __pyx_f_7_region_10RegionList___delitem__(PyObject *__pyx_v_self, PyObject *__pyx_arg_x); /*proto*/
static int __pyx_f_7_region_10RegionList___delitem__(PyObject *__pyx_v_self, PyObject *__pyx_arg_x) {
  Py_ssize_t __pyx_v_x;
  int __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_v_x = PyInt_AsSsize_t(__pyx_arg_x); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 286; goto __pyx_L1;}
  if (PySequence_DelItem(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions, __pyx_v_x) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 287; goto __pyx_L1;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.RegionList.__delitem__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionList___getslice__(PyObject *__pyx_v_self, Py_ssize_t __pyx_v_i, Py_ssize_t __pyx_v_j); /*proto*/
static PyObject *__pyx_f_7_region_10RegionList___getslice__(PyObject *__pyx_v_self, Py_ssize_t __pyx_v_i, Py_ssize_t __pyx_v_j) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___class__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 290; goto __pyx_L1;}
  __pyx_2 = PySequence_GetSlice(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions, __pyx_v_i, __pyx_v_j); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 290; goto __pyx_L1;}
  __pyx_3 = PySequence_Tuple(__pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 290; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 290; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_region.RegionList.__getslice__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_10RegionList___setslice__(PyObject *__pyx_v_self, Py_ssize_t __pyx_v_i, Py_ssize_t __pyx_v_j, PyObject *__pyx_v_x); /*proto*/
static int __pyx_f_7_region_10RegionList___setslice__(PyObject *__pyx_v_self, Py_ssize_t __pyx_v_i, Py_ssize_t __pyx_v_j, PyObject *__pyx_v_x) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_x);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":293 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n__check_type_of_list); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_y); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 293; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":294 */
  if (PySequence_SetSlice(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions, __pyx_v_i, __pyx_v_j, __pyx_v_x) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 294; goto __pyx_L1;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_region.RegionList.__setslice__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_x);
  return __pyx_r;
}

static int __pyx_f_7_region_10RegionList___delslice__(PyObject *__pyx_v_self, Py_ssize_t __pyx_v_i, Py_ssize_t __pyx_v_j); /*proto*/
static int __pyx_f_7_region_10RegionList___delslice__(PyObject *__pyx_v_self, Py_ssize_t __pyx_v_i, Py_ssize_t __pyx_v_j) {
  int __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);
  if (PySequence_DelSlice(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions, __pyx_v_i, __pyx_v_j) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 297; goto __pyx_L1;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.RegionList.__delslice__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_10RegionList___contains__(PyObject *__pyx_v_self, PyObject *__pyx_v_x); /*proto*/
static int __pyx_f_7_region_10RegionList___contains__(PyObject *__pyx_v_self, PyObject *__pyx_v_x) {
  int __pyx_r;
  int __pyx_1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_x);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_x), __pyx_ptype_7_region_RegionBase, 1, "x")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 299; goto __pyx_L1;}
  __pyx_1 = PySequence_Contains(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions, __pyx_v_x); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 300; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.RegionList.__contains__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_x);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionList___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7_region_10RegionList___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_1 = PyObject_Repr(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 303; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.RegionList.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_10RegionList_asList(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7_region_10RegionList_asList(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions);
  __pyx_r = ((struct __pyx_obj_7_region_RegionList *)__pyx_v_self)->child_regions;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_12RegionOrList__inside(struct __pyx_obj_7_region_RegionOrList *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  PyListObject *__pyx_v_child_regions;
  int __pyx_v_i;
  int __pyx_v_n;
  npy_bool __pyx_r;
  npy_bool __pyx_1;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":315 */
  __pyx_v_child_regions = ((PyListObject *)__pyx_v_self->__pyx_base.child_regions);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":316 */
  __pyx_v_n = PyList_GET_SIZE(__pyx_v_child_regions);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":317 */
  for (__pyx_v_i = 0; __pyx_v_i < __pyx_v_n; ++__pyx_v_i) {
    __pyx_1 = ((struct __pyx_vtabstruct_7_region_RegionBase *)((struct __pyx_obj_7_region_RegionBase *)PyList_GET_ITEM(__pyx_v_child_regions,__pyx_v_i))->__pyx_vtab)->_inside(((struct __pyx_obj_7_region_RegionBase *)PyList_GET_ITEM(__pyx_v_child_regions,__pyx_v_i)),__pyx_v_x,__pyx_v_y);
    if (__pyx_1) {
      __pyx_r = 1;
      goto __pyx_L0;
      goto __pyx_L4;
    }
    __pyx_L4:;
  }

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":320 */
  __pyx_r = 0;
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_12RegionOrList___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7_region_12RegionOrList___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_1 = PyObject_Repr(((struct __pyx_obj_7_region_RegionOrList *)__pyx_v_self)->__pyx_base.child_regions); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; goto __pyx_L1;}
  __pyx_2 = PyNumber_Add(__pyx_n_Or, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 324; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("_region.RegionOrList.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_13RegionAndList__inside(struct __pyx_obj_7_region_RegionAndList *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  PyListObject *__pyx_v_child_regions;
  int __pyx_v_i;
  int __pyx_v_n;
  npy_bool __pyx_r;
  int __pyx_1;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":333 */
  __pyx_v_child_regions = ((PyListObject *)__pyx_v_self->__pyx_base.child_regions);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":334 */
  __pyx_v_n = PyList_GET_SIZE(__pyx_v_child_regions);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":335 */
  for (__pyx_v_i = 0; __pyx_v_i < __pyx_v_n; ++__pyx_v_i) {
    __pyx_1 = (!((struct __pyx_vtabstruct_7_region_RegionBase *)((struct __pyx_obj_7_region_RegionBase *)PyList_GET_ITEM(__pyx_v_child_regions,__pyx_v_i))->__pyx_vtab)->_inside(((struct __pyx_obj_7_region_RegionBase *)PyList_GET_ITEM(__pyx_v_child_regions,__pyx_v_i)),__pyx_v_x,__pyx_v_y));
    if (__pyx_1) {
      __pyx_r = 0;
      goto __pyx_L0;
      goto __pyx_L4;
    }
    __pyx_L4:;
  }

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":338 */
  __pyx_r = 1;
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_13RegionAndList___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7_region_13RegionAndList___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_1 = PyObject_Repr(((struct __pyx_obj_7_region_RegionAndList *)__pyx_v_self)->__pyx_base.child_regions); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 342; goto __pyx_L1;}
  __pyx_2 = PyNumber_Add(__pyx_n_And, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 342; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("_region.RegionAndList.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_RegionAnd(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7_region_RegionAnd(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7_region_RegionBase *__pyx_v_region1 = 0;
  struct __pyx_obj_7_region_RegionBase *__pyx_v_region2 = 0;
  PyObject *__pyx_v_region1_list;
  PyObject *__pyx_v_region2_list;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"region1","region2",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_region1, &__pyx_v_region2)) return 0;
  Py_INCREF(__pyx_v_region1);
  Py_INCREF(__pyx_v_region2);
  __pyx_v_region1_list = Py_None; Py_INCREF(Py_None);
  __pyx_v_region2_list = Py_None; Py_INCREF(Py_None);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_region1), __pyx_ptype_7_region_RegionBase, 1, "region1")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 345; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_region2), __pyx_ptype_7_region_RegionBase, 1, "region2")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 345; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":346 */
  __pyx_1 = PyObject_IsInstance(((PyObject *)__pyx_v_region1),((PyObject *)__pyx_ptype_7_region_RegionAndList)); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 346; goto __pyx_L1;}
  if (__pyx_1) {
    __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_region1), __pyx_n_asList); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 347; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 347; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_region1_list);
    __pyx_v_region1_list = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L2;
  }
  /*else*/ {
    __pyx_2 = PyList_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_region1));
    PyList_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_region1));
    Py_DECREF(__pyx_v_region1_list);
    __pyx_v_region1_list = __pyx_2;
    __pyx_2 = 0;
  }
  __pyx_L2:;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":351 */
  __pyx_1 = PyObject_IsInstance(((PyObject *)__pyx_v_region2),((PyObject *)__pyx_ptype_7_region_RegionAndList)); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 351; goto __pyx_L1;}
  if (__pyx_1) {
    __pyx_3 = PyObject_GetAttr(((PyObject *)__pyx_v_region2), __pyx_n_asList); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 352; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(__pyx_3, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 352; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_region2_list);
    __pyx_v_region2_list = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L3;
  }
  /*else*/ {
    __pyx_3 = PyList_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 354; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_region2));
    PyList_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_region2));
    Py_DECREF(__pyx_v_region2_list);
    __pyx_v_region2_list = __pyx_3;
    __pyx_3 = 0;
  }
  __pyx_L3:;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":356 */
  __pyx_2 = PyNumber_Add(__pyx_v_region1_list, __pyx_v_region2_list); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 356; goto __pyx_L1;}
  __pyx_3 = PySequence_Tuple(__pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 356; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(((PyObject *)__pyx_ptype_7_region_RegionAndList), __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 356; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_region.RegionAnd");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_region1_list);
  Py_DECREF(__pyx_v_region2_list);
  Py_DECREF(__pyx_v_region1);
  Py_DECREF(__pyx_v_region2);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_RegionOr(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7_region_RegionOr(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7_region_RegionBase *__pyx_v_region1 = 0;
  struct __pyx_obj_7_region_RegionBase *__pyx_v_region2 = 0;
  PyObject *__pyx_v_region1_list;
  PyObject *__pyx_v_region2_list;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"region1","region2",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_region1, &__pyx_v_region2)) return 0;
  Py_INCREF(__pyx_v_region1);
  Py_INCREF(__pyx_v_region2);
  __pyx_v_region1_list = Py_None; Py_INCREF(Py_None);
  __pyx_v_region2_list = Py_None; Py_INCREF(Py_None);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_region1), __pyx_ptype_7_region_RegionBase, 1, "region1")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 359; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_region2), __pyx_ptype_7_region_RegionBase, 1, "region2")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 359; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":360 */
  __pyx_1 = PyObject_IsInstance(((PyObject *)__pyx_v_region1),((PyObject *)__pyx_ptype_7_region_RegionOrList)); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; goto __pyx_L1;}
  if (__pyx_1) {
    __pyx_2 = PyObject_GetAttr(((PyObject *)__pyx_v_region1), __pyx_n_asList); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 361; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 361; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_region1_list);
    __pyx_v_region1_list = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L2;
  }
  /*else*/ {
    __pyx_2 = PyList_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 363; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_region1));
    PyList_SET_ITEM(__pyx_2, 0, ((PyObject *)__pyx_v_region1));
    Py_DECREF(__pyx_v_region1_list);
    __pyx_v_region1_list = __pyx_2;
    __pyx_2 = 0;
  }
  __pyx_L2:;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":365 */
  __pyx_1 = PyObject_IsInstance(((PyObject *)__pyx_v_region2),((PyObject *)__pyx_ptype_7_region_RegionOrList)); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 365; goto __pyx_L1;}
  if (__pyx_1) {
    __pyx_3 = PyObject_GetAttr(((PyObject *)__pyx_v_region2), __pyx_n_asList); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 366; goto __pyx_L1;}
    __pyx_2 = PyObject_CallObject(__pyx_3, 0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 366; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_region2_list);
    __pyx_v_region2_list = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L3;
  }
  /*else*/ {
    __pyx_3 = PyList_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 368; goto __pyx_L1;}
    Py_INCREF(((PyObject *)__pyx_v_region2));
    PyList_SET_ITEM(__pyx_3, 0, ((PyObject *)__pyx_v_region2));
    Py_DECREF(__pyx_v_region2_list);
    __pyx_v_region2_list = __pyx_3;
    __pyx_3 = 0;
  }
  __pyx_L3:;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":370 */
  __pyx_2 = PyNumber_Add(__pyx_v_region1_list, __pyx_v_region2_list); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; goto __pyx_L1;}
  __pyx_3 = PySequence_Tuple(__pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(((PyObject *)__pyx_ptype_7_region_RegionOrList), __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 370; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_region.RegionOr");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_region1_list);
  Py_DECREF(__pyx_v_region2_list);
  Py_DECREF(__pyx_v_region1);
  Py_DECREF(__pyx_v_region2);
  return __pyx_r;
}

static int __pyx_f_7_region_13RegionAnd_OLD___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_13RegionAnd_OLD___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7_region_RegionBase *__pyx_v_child_region1 = 0;
  struct __pyx_obj_7_region_RegionBase *__pyx_v_child_region2 = 0;
  int __pyx_r;
  static char *__pyx_argnames[] = {"child_region1","child_region2",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_child_region1, &__pyx_v_child_region2)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_child_region1);
  Py_INCREF(__pyx_v_child_region2);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_child_region1), __pyx_ptype_7_region_RegionBase, 1, "child_region1")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_child_region2), __pyx_ptype_7_region_RegionBase, 1, "child_region2")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":378 */
  Py_INCREF(((PyObject *)__pyx_v_child_region1));
  Py_DECREF(((PyObject *)((struct __pyx_obj_7_region_RegionAnd_OLD *)__pyx_v_self)->child_region1));
  ((struct __pyx_obj_7_region_RegionAnd_OLD *)__pyx_v_self)->child_region1 = __pyx_v_child_region1;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":379 */
  Py_INCREF(((PyObject *)__pyx_v_child_region2));
  Py_DECREF(((PyObject *)((struct __pyx_obj_7_region_RegionAnd_OLD *)__pyx_v_self)->child_region2));
  ((struct __pyx_obj_7_region_RegionAnd_OLD *)__pyx_v_self)->child_region2 = __pyx_v_child_region2;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.RegionAnd_OLD.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_child_region1);
  Py_DECREF(__pyx_v_child_region2);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_13RegionAnd_OLD__inside(struct __pyx_obj_7_region_RegionAnd_OLD *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  npy_bool __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_r = (((struct __pyx_vtabstruct_7_region_RegionBase *)__pyx_v_self->child_region1->__pyx_vtab)->_inside(__pyx_v_self->child_region1,__pyx_v_x,__pyx_v_y) & ((struct __pyx_vtabstruct_7_region_RegionBase *)__pyx_v_self->child_region2->__pyx_vtab)->_inside(__pyx_v_self->child_region2,__pyx_v_x,__pyx_v_y));
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_12RegionOr_OLD___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_12RegionOr_OLD___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7_region_RegionBase *__pyx_v_child_region1 = 0;
  struct __pyx_obj_7_region_RegionBase *__pyx_v_child_region2 = 0;
  int __pyx_r;
  static char *__pyx_argnames[] = {"child_region1","child_region2",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_child_region1, &__pyx_v_child_region2)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_child_region1);
  Py_INCREF(__pyx_v_child_region2);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_child_region1), __pyx_ptype_7_region_RegionBase, 1, "child_region1")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 389; goto __pyx_L1;}
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_child_region2), __pyx_ptype_7_region_RegionBase, 1, "child_region2")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 389; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":390 */
  Py_INCREF(((PyObject *)__pyx_v_child_region1));
  Py_DECREF(((PyObject *)((struct __pyx_obj_7_region_RegionOr_OLD *)__pyx_v_self)->child_region1));
  ((struct __pyx_obj_7_region_RegionOr_OLD *)__pyx_v_self)->child_region1 = __pyx_v_child_region1;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":391 */
  Py_INCREF(((PyObject *)__pyx_v_child_region2));
  Py_DECREF(((PyObject *)((struct __pyx_obj_7_region_RegionOr_OLD *)__pyx_v_self)->child_region2));
  ((struct __pyx_obj_7_region_RegionOr_OLD *)__pyx_v_self)->child_region2 = __pyx_v_child_region2;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.RegionOr_OLD.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_child_region1);
  Py_DECREF(__pyx_v_child_region2);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_12RegionOr_OLD__inside(struct __pyx_obj_7_region_RegionOr_OLD *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  npy_bool __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_r = (((struct __pyx_vtabstruct_7_region_RegionBase *)__pyx_v_self->child_region1->__pyx_vtab)->_inside(__pyx_v_self->child_region1,__pyx_v_x,__pyx_v_y) | ((struct __pyx_vtabstruct_7_region_RegionBase *)__pyx_v_self->child_region2->__pyx_vtab)->_inside(__pyx_v_self->child_region2,__pyx_v_x,__pyx_v_y));
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_11Transformed___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_11Transformed___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7_region_RegionBase *__pyx_v_child_region = 0;
  double __pyx_v_T11;
  double __pyx_v_T12;
  double __pyx_v_T21;
  double __pyx_v_T22;
  double __pyx_v_origin_x;
  double __pyx_v_origin_y;
  int __pyx_r;
  static char *__pyx_argnames[] = {"child_region","T11","T12","T21","T22","origin_x","origin_y",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "Odddddd", __pyx_argnames, &__pyx_v_child_region, &__pyx_v_T11, &__pyx_v_T12, &__pyx_v_T21, &__pyx_v_T22, &__pyx_v_origin_x, &__pyx_v_origin_y)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_child_region);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_child_region), __pyx_ptype_7_region_RegionBase, 1, "child_region")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 405; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":409 */
  Py_INCREF(((PyObject *)__pyx_v_child_region));
  Py_DECREF(((PyObject *)((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->child_region));
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->child_region = __pyx_v_child_region;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":411 */
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->T11 = __pyx_v_T11;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":412 */
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->T12 = __pyx_v_T12;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":413 */
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->T21 = __pyx_v_T21;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":414 */
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->T22 = __pyx_v_T22;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":417 */
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->TI11 = __pyx_v_T11;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":418 */
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->TI12 = __pyx_v_T12;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":419 */
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->TI21 = __pyx_v_T21;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":420 */
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->TI22 = __pyx_v_T22;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":422 */
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->origin_x = __pyx_v_origin_x;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":423 */
  ((struct __pyx_obj_7_region_Transformed *)__pyx_v_self)->origin_y = __pyx_v_origin_y;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.Transformed.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_child_region);
  return __pyx_r;
}

static int __pyx_f_7_region_11Transformed__transform(struct __pyx_obj_7_region_Transformed *__pyx_v_self,double __pyx_v_x,double __pyx_v_y,double *__pyx_v_xp,double *__pyx_v_yp) {
  double __pyx_v_x1;
  double __pyx_v_x2;
  double __pyx_v_y1;
  double __pyx_v_y2;
  int __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":429 */
  __pyx_v_x1 = (__pyx_v_x - __pyx_v_self->origin_x);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":430 */
  __pyx_v_y1 = (__pyx_v_y - __pyx_v_self->origin_y);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":433 */
  __pyx_v_x2 = __pyx_v_x1;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":434 */
  __pyx_v_y2 = __pyx_v_y1;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":436 */
  (__pyx_v_xp[0]) = (__pyx_v_x2 + __pyx_v_self->origin_x);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":437 */
  (__pyx_v_yp[0]) = (__pyx_v_y2 + __pyx_v_self->origin_y);

  __pyx_r = 0;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_11Transformed__inside(struct __pyx_obj_7_region_Transformed *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  double __pyx_v_xp;
  double __pyx_v_yp;
  npy_bool __pyx_v_r;
  npy_bool __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":445 */
  ((struct __pyx_vtabstruct_7_region_Transformed *)__pyx_v_self->__pyx_base.__pyx_vtab)->_transform(__pyx_v_self,__pyx_v_x,__pyx_v_y,(&__pyx_v_xp),(&__pyx_v_yp));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":446 */
  __pyx_v_r = ((struct __pyx_vtabstruct_7_region_RegionBase *)__pyx_v_self->child_region->__pyx_vtab)->_inside(__pyx_v_self->child_region,__pyx_v_xp,__pyx_v_yp);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":448 */
  __pyx_r = __pyx_v_r;
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_9Transform___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_9Transform___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7_region_RegionBase *__pyx_v_child_region = 0;
  int __pyx_r;
  static char *__pyx_argnames[] = {"child_region",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_child_region)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_child_region);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_child_region), __pyx_ptype_7_region_RegionBase, 1, "child_region")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 456; goto __pyx_L1;}
  Py_INCREF(((PyObject *)__pyx_v_child_region));
  Py_DECREF(((PyObject *)((struct __pyx_obj_7_region_Transform *)__pyx_v_self)->child_region));
  ((struct __pyx_obj_7_region_Transform *)__pyx_v_self)->child_region = __pyx_v_child_region;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_region.Transform.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_child_region);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_9Transform_5child___get__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7_region_9Transform_5child___get__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(((PyObject *)((struct __pyx_obj_7_region_Transform *)__pyx_v_self)->child_region));
  __pyx_r = ((PyObject *)((struct __pyx_obj_7_region_Transform *)__pyx_v_self)->child_region);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_9Transform__transform(struct __pyx_obj_7_region_Transform *__pyx_v_self,double __pyx_v_x,double __pyx_v_y,double *__pyx_v_xp,double *__pyx_v_yp) {
  int __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":472 */
  (__pyx_v_xp[0]) = __pyx_v_x;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":473 */
  (__pyx_v_yp[0]) = __pyx_v_y;

  __pyx_r = 0;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_9Transform__inside(struct __pyx_obj_7_region_Transform *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  double __pyx_v_xp;
  double __pyx_v_yp;
  npy_bool __pyx_v_r;
  npy_bool __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":479 */
  ((struct __pyx_vtabstruct_7_region_Transform *)__pyx_v_self->__pyx_base.__pyx_vtab)->_transform(__pyx_v_self,__pyx_v_x,__pyx_v_y,(&__pyx_v_xp),(&__pyx_v_yp));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":480 */
  __pyx_v_r = ((struct __pyx_vtabstruct_7_region_RegionBase *)__pyx_v_self->child_region->__pyx_vtab)->_inside(__pyx_v_self->child_region,__pyx_v_xp,__pyx_v_yp);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":482 */
  __pyx_r = __pyx_v_r;
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_7Rotated___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_7Rotated___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7_region_RegionBase *__pyx_v_child_region = 0;
  double __pyx_v_degree;
  double __pyx_v_origin_x;
  double __pyx_v_origin_y;
  double __pyx_v_theta;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"child_region","degree","origin_x","origin_y",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "Oddd", __pyx_argnames, &__pyx_v_child_region, &__pyx_v_degree, &__pyx_v_origin_x, &__pyx_v_origin_y)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_child_region);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_child_region), __pyx_ptype_7_region_RegionBase, 1, "child_region")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 497; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":501 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_ptype_7_region_Transform), __pyx_n___init__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 501; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 501; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
  Py_INCREF(((PyObject *)__pyx_v_child_region));
  PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject *)__pyx_v_child_region));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 501; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":503 */
  __pyx_v_theta = ((__pyx_v_degree / 180.) * 3.1415926);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":504 */
  ((struct __pyx_obj_7_region_Rotated *)__pyx_v_self)->sin_theta = sin(__pyx_v_theta);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":505 */
  ((struct __pyx_obj_7_region_Rotated *)__pyx_v_self)->cos_theta = cos(__pyx_v_theta);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":507 */
  ((struct __pyx_obj_7_region_Rotated *)__pyx_v_self)->origin_x = __pyx_v_origin_x;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":508 */
  ((struct __pyx_obj_7_region_Rotated *)__pyx_v_self)->origin_y = __pyx_v_origin_y;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_region.Rotated.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_child_region);
  return __pyx_r;
}

static int __pyx_f_7_region_7Rotated__transform(struct __pyx_obj_7_region_Rotated *__pyx_v_self,double __pyx_v_x,double __pyx_v_y,double *__pyx_v_xp,double *__pyx_v_yp) {
  double __pyx_v_x1;
  double __pyx_v_x2;
  double __pyx_v_y1;
  double __pyx_v_y2;
  double __pyx_v_st;
  double __pyx_v_ct;
  double __pyx_v_ox;
  double __pyx_v_oy;
  int __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":515 */
  __pyx_v_st = __pyx_v_self->sin_theta;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":516 */
  __pyx_v_ct = __pyx_v_self->cos_theta;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":517 */
  __pyx_v_ox = __pyx_v_self->origin_x;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":518 */
  __pyx_v_oy = __pyx_v_self->origin_y;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":520 */
  __pyx_v_x1 = (__pyx_v_x - __pyx_v_ox);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":521 */
  __pyx_v_y1 = (__pyx_v_y - __pyx_v_oy);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":523 */
  __pyx_v_x2 = ((__pyx_v_ct * __pyx_v_x1) + (__pyx_v_st * __pyx_v_y1));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":524 */
  __pyx_v_y2 = (((-__pyx_v_st) * __pyx_v_x1) + (__pyx_v_ct * __pyx_v_y1));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":526 */
  (__pyx_v_xp[0]) = (__pyx_v_x2 + __pyx_v_ox);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":527 */
  (__pyx_v_yp[0]) = (__pyx_v_y2 + __pyx_v_oy);

  __pyx_r = 0;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_10Translated___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_10Translated___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_7_region_RegionBase *__pyx_v_child_region = 0;
  double __pyx_v_dx;
  double __pyx_v_dy;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"child_region","dx","dy",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "Odd", __pyx_argnames, &__pyx_v_child_region, &__pyx_v_dx, &__pyx_v_dy)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_child_region);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_child_region), __pyx_ptype_7_region_RegionBase, 1, "child_region")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 536; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":539 */
  __pyx_1 = PyObject_GetAttr(((PyObject *)__pyx_ptype_7_region_Transform), __pyx_n___init__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
  Py_INCREF(((PyObject *)__pyx_v_child_region));
  PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject *)__pyx_v_child_region));
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":541 */
  ((struct __pyx_obj_7_region_Translated *)__pyx_v_self)->dx = __pyx_v_dx;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":542 */
  ((struct __pyx_obj_7_region_Translated *)__pyx_v_self)->dy = __pyx_v_dy;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_region.Translated.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_child_region);
  return __pyx_r;
}

static int __pyx_f_7_region_10Translated__transform(struct __pyx_obj_7_region_Translated *__pyx_v_self,double __pyx_v_x,double __pyx_v_y,double *__pyx_v_xp,double *__pyx_v_yp) {
  int __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":545 */
  (__pyx_v_xp[0]) = (__pyx_v_x - __pyx_v_self->dx);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":546 */
  (__pyx_v_yp[0]) = (__pyx_v_y - __pyx_v_self->dy);

  __pyx_r = 0;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_6Circle__set_v(struct __pyx_obj_7_region_Circle *__pyx_v_self,double __pyx_v_xc,double __pyx_v_yc,double __pyx_v_radius) {
  PyObject *__pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":568 */
  __pyx_v_self->xc = __pyx_v_xc;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":569 */
  __pyx_v_self->yc = __pyx_v_yc;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":570 */
  __pyx_v_self->radius = __pyx_v_radius;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":571 */
  __pyx_v_self->radius2 = (__pyx_v_radius * __pyx_v_radius);

  __pyx_r = Py_None; Py_INCREF(Py_None);
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_6Circle__get_v(struct __pyx_obj_7_region_Circle *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_1 = PyFloat_FromDouble(__pyx_v_self->xc); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(__pyx_v_self->yc); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(__pyx_v_self->radius); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_3);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_r = __pyx_4;
  __pyx_4 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_region.Circle._get_v");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_6Circle___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_6Circle___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  double __pyx_v_xc;
  double __pyx_v_yc;
  double __pyx_v_radius;
  struct __pyx_obj_7_region_RegionContext *__pyx_v_c = 0;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"xc","yc","radius","c",0};
  __pyx_v_c = __pyx_d1;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "ddd|O", __pyx_argnames, &__pyx_v_xc, &__pyx_v_yc, &__pyx_v_radius, &__pyx_v_c)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_c);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_c), __pyx_ptype_7_region_RegionContext, 1, "c")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 578; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":584 */
  __pyx_1 = ((struct __pyx_vtabstruct_7_region_Circle *)((struct __pyx_obj_7_region_Circle *)__pyx_v_self)->__pyx_base.__pyx_vtab)->__pyx_base.metric_set_origin(((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self),__pyx_v_xc,__pyx_v_yc,__pyx_v_c); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 584; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":585 */
  __pyx_1 = ((struct __pyx_vtabstruct_7_region_Circle *)((struct __pyx_obj_7_region_Circle *)__pyx_v_self)->__pyx_base.__pyx_vtab)->_set_v(((struct __pyx_obj_7_region_Circle *)__pyx_v_self),__pyx_v_xc,__pyx_v_yc,__pyx_v_radius); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.Circle.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_c);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_6Circle__inside(struct __pyx_obj_7_region_Circle *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  double __pyx_v_dist2;
  npy_bool __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":591 */
  __pyx_v_dist2 = (pow(((__pyx_v_x - __pyx_v_self->xc) * __pyx_v_self->__pyx_base.m.g_x), 2) + pow(((__pyx_v_y - __pyx_v_self->yc) * __pyx_v_self->__pyx_base.m.g_y), 2));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":592 */
  __pyx_r = (__pyx_v_dist2 <= __pyx_v_self->radius2);
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_6Circle___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7_region_6Circle___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7_region_Circle *)__pyx_v_self)->xc); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 595; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7_region_Circle *)__pyx_v_self)->yc); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 595; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7_region_Circle *)__pyx_v_self)->radius); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 595; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 595; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_4, 2, __pyx_3);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k16p, __pyx_4); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 595; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_region.Circle.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_7Ellipse___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_7Ellipse___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  double __pyx_v_xc;
  double __pyx_v_yc;
  double __pyx_v_radius_major;
  double __pyx_v_radius_minor;
  struct __pyx_obj_7_region_RegionContext *__pyx_v_c = 0;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"xc","yc","radius_major","radius_minor","c",0};
  __pyx_v_c = __pyx_d2;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "dddd|O", __pyx_argnames, &__pyx_v_xc, &__pyx_v_yc, &__pyx_v_radius_major, &__pyx_v_radius_minor, &__pyx_v_c)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_c);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_c), __pyx_ptype_7_region_RegionContext, 1, "c")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 611; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":617 */
  ((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->xc = __pyx_v_xc;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":618 */
  ((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->yc = __pyx_v_yc;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":619 */
  ((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->radius_major = __pyx_v_radius_major;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":620 */
  ((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->radius_minor = __pyx_v_radius_minor;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":621 */
  ((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->radius_major_2 = pow(__pyx_v_radius_major, 2);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":622 */
  ((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->radius_minor_2 = pow(__pyx_v_radius_minor, 2);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":623 */
  ((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->radius_major_2_radius_minor_2 = (((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->radius_major_2 * ((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->radius_minor_2);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":625 */
  __pyx_1 = ((struct __pyx_vtabstruct_7_region_Ellipse *)((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->__pyx_base.__pyx_vtab)->__pyx_base.metric_set_origin(((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self),__pyx_v_xc,__pyx_v_yc,__pyx_v_c); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 625; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.Ellipse.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_c);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_7Ellipse__inside(struct __pyx_obj_7_region_Ellipse *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  double __pyx_v_dist2;
  npy_bool __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":632 */
  __pyx_v_dist2 = ((__pyx_v_self->radius_minor_2 * pow((__pyx_v_x - __pyx_v_self->xc), 2)) + (__pyx_v_self->radius_major_2 * pow((__pyx_v_y - __pyx_v_self->yc), 2)));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":633 */
  __pyx_r = (__pyx_v_dist2 <= __pyx_v_self->radius_major_2_radius_minor_2);
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_7_region_7Ellipse___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_7_region_7Ellipse___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_1 = PyFloat_FromDouble(((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->xc); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 636; goto __pyx_L1;}
  __pyx_2 = PyFloat_FromDouble(((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->yc); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 636; goto __pyx_L1;}
  __pyx_3 = PyFloat_FromDouble(((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->radius_major); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 636; goto __pyx_L1;}
  __pyx_4 = PyFloat_FromDouble(((struct __pyx_obj_7_region_Ellipse *)__pyx_v_self)->radius_minor); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 636; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 636; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_2);
  PyTuple_SET_ITEM(__pyx_5, 2, __pyx_3);
  PyTuple_SET_ITEM(__pyx_5, 3, __pyx_4);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_4 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k17p, __pyx_5); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 636; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("_region.Ellipse.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_3Box___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_3Box___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  double __pyx_v_xc;
  double __pyx_v_yc;
  double __pyx_v_width;
  double __pyx_v_height;
  struct __pyx_obj_7_region_RegionContext *__pyx_v_c = 0;
  double __pyx_v_halfwidth;
  double __pyx_v_halfheight;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"xc","yc","width","height","c",0};
  __pyx_v_c = __pyx_d3;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "dddd|O", __pyx_argnames, &__pyx_v_xc, &__pyx_v_yc, &__pyx_v_width, &__pyx_v_height, &__pyx_v_c)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_c);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_c), __pyx_ptype_7_region_RegionContext, 1, "c")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 648; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":652 */
  __pyx_v_halfwidth = (__pyx_v_width * .5);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":653 */
  __pyx_v_halfheight = (__pyx_v_height * .5);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":655 */
  ((struct __pyx_obj_7_region_Box *)__pyx_v_self)->x1 = (__pyx_v_xc - __pyx_v_halfwidth);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":656 */
  ((struct __pyx_obj_7_region_Box *)__pyx_v_self)->x2 = (__pyx_v_xc + __pyx_v_halfwidth);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":657 */
  ((struct __pyx_obj_7_region_Box *)__pyx_v_self)->y1 = (__pyx_v_yc - __pyx_v_halfheight);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":658 */
  ((struct __pyx_obj_7_region_Box *)__pyx_v_self)->y2 = (__pyx_v_yc + __pyx_v_halfheight);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":660 */
  __pyx_1 = ((struct __pyx_vtabstruct_7_region_Box *)((struct __pyx_obj_7_region_Box *)__pyx_v_self)->__pyx_base.__pyx_vtab)->__pyx_base.metric_set_origin(((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self),__pyx_v_xc,__pyx_v_yc,__pyx_v_c); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 660; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.Box.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_c);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_3Box__inside(struct __pyx_obj_7_region_Box *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  npy_bool __pyx_r;
  Py_INCREF((PyObject *)__pyx_v_self);
  __pyx_r = ((((__pyx_v_self->x1 <= __pyx_v_x) & (__pyx_v_x <= __pyx_v_self->x2)) & (__pyx_v_self->y1 <= __pyx_v_y)) & (__pyx_v_y <= __pyx_v_self->y2));
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_7_region_7Polygon___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_7_region_7Polygon___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_x = 0;
  PyObject *__pyx_v_y = 0;
  struct __pyx_obj_7_region_RegionContext *__pyx_v_c = 0;
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {"x","y","c",0};
  __pyx_v_c = __pyx_d4;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_x, &__pyx_v_y, &__pyx_v_c)) return -1;
  Py_INCREF((PyObject *)__pyx_v_self);
  Py_INCREF(__pyx_v_x);
  Py_INCREF(__pyx_v_y);
  Py_INCREF(__pyx_v_c);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_c), __pyx_ptype_7_region_RegionContext, 1, "c")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 681; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":682 */
  __pyx_1 = PyArray_CopyFromObject(__pyx_v_x,NPY_DOUBLE,1,1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 682; goto __pyx_L1;}
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7c_numpy_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 682; goto __pyx_L1;}
  Py_DECREF(((PyObject *)((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->xa));
  ((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->xa = ((PyArrayObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":683 */
  __pyx_1 = PyArray_CopyFromObject(__pyx_v_y,NPY_DOUBLE,1,1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 683; goto __pyx_L1;}
  if (!__Pyx_TypeTest(__pyx_1, __pyx_ptype_7c_numpy_ndarray)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 683; goto __pyx_L1;}
  Py_DECREF(((PyObject *)((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->ya));
  ((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->ya = ((PyArrayObject *)__pyx_1);
  __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":685 */
  ((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->n = PyArray_SIZE(((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->xa);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":687 */
  ((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->x = ((double *)PyArray_DATA(((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->xa));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":688 */
  ((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->y = ((double *)PyArray_DATA(((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->ya));

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":690 */
  __pyx_1 = ((struct __pyx_vtabstruct_7_region_Polygon *)((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->__pyx_base.__pyx_vtab)->__pyx_base.metric_set_origin(((struct __pyx_obj_7_region_RegionBase *)__pyx_v_self),(((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->x[0]),(((struct __pyx_obj_7_region_Polygon *)__pyx_v_self)->y[0]),__pyx_v_c); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 690; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_region.Polygon.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  Py_DECREF(__pyx_v_x);
  Py_DECREF(__pyx_v_y);
  Py_DECREF(__pyx_v_c);
  return __pyx_r;
}

static npy_bool __pyx_f_7_region_7Polygon__inside(struct __pyx_obj_7_region_Polygon *__pyx_v_self,double __pyx_v_x,double __pyx_v_y) {
  int __pyx_v_i;
  int __pyx_v_j;
  npy_bool __pyx_v_r;
  double *__pyx_v_xp;
  double *__pyx_v_yp;
  double __pyx_v__t;
  double __pyx_v_y_yp_i;
  double __pyx_v_y_yp_j;
  npy_bool __pyx_r;
  int __pyx_1;
  int __pyx_2;
  Py_INCREF((PyObject *)__pyx_v_self);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":702 */
  __pyx_v_j = (__pyx_v_self->n - 1);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":703 */
  __pyx_v_r = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":704 */
  __pyx_v_xp = __pyx_v_self->x;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":705 */
  __pyx_v_yp = __pyx_v_self->y;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":718 */
  __pyx_1 = __pyx_v_self->n;
  for (__pyx_v_i = 0; __pyx_v_i < __pyx_1; ++__pyx_v_i) {

    /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":719 */
    __pyx_v_y_yp_i = (__pyx_v_y - (__pyx_v_yp[__pyx_v_i]));

    /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":720 */
    __pyx_v_y_yp_j = (__pyx_v_y - (__pyx_v_yp[__pyx_v_j]));

    /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":722 */
    __pyx_2 = ((__pyx_v_y_yp_i == 0.) & (__pyx_v_y_yp_j == 0.));
    if (__pyx_2) {
      __pyx_2 = ((((__pyx_v_xp[__pyx_v_i]) - __pyx_v_x) * ((__pyx_v_xp[__pyx_v_j]) - __pyx_v_x)) <= 0.);
      if (__pyx_2) {
        __pyx_r = 1;
        goto __pyx_L0;
        goto __pyx_L5;
      }
      __pyx_L5:;
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":726 */
    __pyx_2 = (((0 <= __pyx_v_y_yp_i) & (0 > __pyx_v_y_yp_j)) | ((0 <= __pyx_v_y_yp_j) & (0 > __pyx_v_y_yp_i)));
    if (__pyx_2) {

      /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":727 */
      __pyx_v__t = ((__pyx_v_xp[__pyx_v_i]) + ((__pyx_v_y_yp_i / ((__pyx_v_yp[__pyx_v_j]) - (__pyx_v_yp[__pyx_v_i]))) * ((__pyx_v_xp[__pyx_v_j]) - (__pyx_v_xp[__pyx_v_i]))));

      /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":728 */
      __pyx_2 = (__pyx_v__t == __pyx_v_x);
      if (__pyx_2) {
        __pyx_r = 1;
        goto __pyx_L0;
        goto __pyx_L7;
      }
      __pyx_L7:;

      /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":731 */
      __pyx_2 = (__pyx_v__t < __pyx_v_x);
      if (__pyx_2) {
        __pyx_v_r = (!__pyx_v_r);
        goto __pyx_L8;
      }
      __pyx_L8:;
      goto __pyx_L6;
    }
    __pyx_L6:;

    /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":733 */
    __pyx_v_j = __pyx_v_i;
  }

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":737 */
  __pyx_r = __pyx_v_r;
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF((PyObject *)__pyx_v_self);
  return __pyx_r;
}
static struct __pyx_vtabstruct_7_region_RegionContext __pyx_vtable_7_region_RegionContext;

static PyObject *__pyx_tp_new_7_region_RegionContext(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_RegionContext *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_RegionContext *)o);
  *(struct __pyx_vtabstruct_7_region_RegionContext **)&p->__pyx_vtab = __pyx_vtabptr_7_region_RegionContext;
  return o;
}

static void __pyx_tp_dealloc_7_region_RegionContext(PyObject *o) {
  (*o->ob_type->tp_free)(o);
}

static struct PyMethodDef __pyx_methods_7_region_RegionContext[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_RegionContext = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_RegionContext = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_RegionContext = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_RegionContext = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_RegionContext = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.RegionContext", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_RegionContext), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_RegionContext, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_RegionContext, /*tp_as_number*/
  &__pyx_tp_as_sequence_RegionContext, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_RegionContext, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_RegionContext, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_RegionContext, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_13RegionContext___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_RegionContext, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_RegionBase __pyx_vtable_7_region_RegionBase;

static PyObject *__pyx_tp_new_7_region_RegionBase(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_RegionBase *p;
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_RegionBase *)o);
  *(struct __pyx_vtabstruct_7_region_RegionBase **)&p->__pyx_vtab = __pyx_vtabptr_7_region_RegionBase;
  p->c = ((struct __pyx_obj_7_region_RegionContext *)Py_None); Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7_region_RegionBase(PyObject *o) {
  struct __pyx_obj_7_region_RegionBase *p = (struct __pyx_obj_7_region_RegionBase *)o;
  Py_XDECREF(((PyObject *)p->c));
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_7_region_RegionBase(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7_region_RegionBase *p = (struct __pyx_obj_7_region_RegionBase *)o;
  if (p->c) {
    e = (*v)(((PyObject*)p->c), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7_region_RegionBase(PyObject *o) {
  struct __pyx_obj_7_region_RegionBase *p = (struct __pyx_obj_7_region_RegionBase *)o;
  PyObject *t;
  t = ((PyObject *)p->c); 
  p->c = ((struct __pyx_obj_7_region_RegionContext *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(t);
  return 0;
}

static struct PyMethodDef __pyx_methods_7_region_RegionBase[] = {
  {"set_context", (PyCFunction)__pyx_f_7_region_10RegionBase_set_context, METH_VARARGS|METH_KEYWORDS, 0},
  {"mask", (PyCFunction)__pyx_f_7_region_10RegionBase_mask, METH_VARARGS|METH_KEYWORDS, 0},
  {"inside1", (PyCFunction)__pyx_f_7_region_10RegionBase_inside1, METH_VARARGS|METH_KEYWORDS, 0},
  {"inside", (PyCFunction)__pyx_f_7_region_10RegionBase_inside, METH_VARARGS|METH_KEYWORDS, 0},
  {"inside2", (PyCFunction)__pyx_f_7_region_10RegionBase_inside2, METH_VARARGS|METH_KEYWORDS, 0},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_RegionBase = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  __pyx_f_7_region_10RegionBase___invert__, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  __pyx_f_7_region_10RegionBase___and__, /*nb_and*/
  0, /*nb_xor*/
  __pyx_f_7_region_10RegionBase___or__, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_RegionBase = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_RegionBase = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_RegionBase = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_RegionBase = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.RegionBase", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_RegionBase), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_RegionBase, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_RegionBase, /*tp_as_number*/
  &__pyx_tp_as_sequence_RegionBase, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_RegionBase, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_RegionBase, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_7_region_RegionBase, /*tp_traverse*/
  __pyx_tp_clear_7_region_RegionBase, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_RegionBase, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_10RegionBase___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_RegionBase, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_RegionNot __pyx_vtable_7_region_RegionNot;

static PyObject *__pyx_tp_new_7_region_RegionNot(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_RegionNot *p;
  PyObject *o = __pyx_ptype_7_region_RegionBase->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_RegionNot *)o);
  *(struct __pyx_vtabstruct_7_region_RegionNot **)&p->__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_RegionNot;
  p->child_region = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7_region_RegionNot(PyObject *o) {
  struct __pyx_obj_7_region_RegionNot *p = (struct __pyx_obj_7_region_RegionNot *)o;
  Py_XDECREF(((PyObject *)p->child_region));
  __pyx_ptype_7_region_RegionBase->tp_dealloc(o);
}

static int __pyx_tp_traverse_7_region_RegionNot(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7_region_RegionNot *p = (struct __pyx_obj_7_region_RegionNot *)o;
  traverseproc t;
  if ((t = __pyx_ptype_7_region_RegionBase->tp_traverse)) {
    e = t(o, v, a); if (e) return e;
  }
  if (p->child_region) {
    e = (*v)(((PyObject*)p->child_region), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7_region_RegionNot(PyObject *o) {
  struct __pyx_obj_7_region_RegionNot *p = (struct __pyx_obj_7_region_RegionNot *)o;
  PyObject *t;
  inquiry c;
  if ((c = __pyx_ptype_7_region_RegionBase->tp_clear)) {
    c(o);
  }
  t = ((PyObject *)p->child_region); 
  p->child_region = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(t);
  return 0;
}

static struct PyMethodDef __pyx_methods_7_region_RegionNot[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_RegionNot = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_RegionNot = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_RegionNot = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_RegionNot = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_RegionNot = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.RegionNot", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_RegionNot), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_RegionNot, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_RegionNot, /*tp_as_number*/
  &__pyx_tp_as_sequence_RegionNot, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_RegionNot, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_RegionNot, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_7_region_RegionNot, /*tp_traverse*/
  __pyx_tp_clear_7_region_RegionNot, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_RegionNot, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_9RegionNot___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_RegionNot, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_RegionList __pyx_vtable_7_region_RegionList;

static PyObject *__pyx_tp_new_7_region_RegionList(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_RegionList *p;
  PyObject *o = __pyx_ptype_7_region_RegionBase->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_RegionList *)o);
  *(struct __pyx_vtabstruct_7_region_RegionList **)&p->__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_RegionList;
  p->child_regions = Py_None; Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7_region_RegionList(PyObject *o) {
  struct __pyx_obj_7_region_RegionList *p = (struct __pyx_obj_7_region_RegionList *)o;
  Py_XDECREF(p->child_regions);
  __pyx_ptype_7_region_RegionBase->tp_dealloc(o);
}

static int __pyx_tp_traverse_7_region_RegionList(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7_region_RegionList *p = (struct __pyx_obj_7_region_RegionList *)o;
  traverseproc t;
  if ((t = __pyx_ptype_7_region_RegionBase->tp_traverse)) {
    e = t(o, v, a); if (e) return e;
  }
  if (p->child_regions) {
    e = (*v)(p->child_regions, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7_region_RegionList(PyObject *o) {
  struct __pyx_obj_7_region_RegionList *p = (struct __pyx_obj_7_region_RegionList *)o;
  PyObject *t;
  inquiry c;
  if ((c = __pyx_ptype_7_region_RegionBase->tp_clear)) {
    c(o);
  }
  t = p->child_regions; 
  p->child_regions = Py_None; Py_INCREF(Py_None);
  Py_XDECREF(t);
  return 0;
}
static PyObject *__pyx_sq_item_7_region_RegionList(PyObject *o, Py_ssize_t i) {
  PyObject *r;
  PyObject *x = PyInt_FromSsize_t(i); if(!x) return 0;
  r = o->ob_type->tp_as_mapping->mp_subscript(o, x);
  Py_DECREF(x);
  return r;
}

static int __pyx_mp_ass_subscript_7_region_RegionList(PyObject *o, PyObject *i, PyObject *v) {
  if (v) {
    return __pyx_f_7_region_10RegionList___setitem__(o, i, v);
  }
  else {
    return __pyx_f_7_region_10RegionList___delitem__(o, i);
  }
}

static int __pyx_sq_ass_slice_7_region_RegionList(PyObject *o, Py_ssize_t i, Py_ssize_t j, PyObject *v) {
  if (v) {
    return __pyx_f_7_region_10RegionList___setslice__(o, i, j, v);
  }
  else {
    return __pyx_f_7_region_10RegionList___delslice__(o, i, j);
  }
}

static struct PyMethodDef __pyx_methods_7_region_RegionList[] = {
  {"_check_type_of_list", (PyCFunction)__pyx_f_7_region_10RegionList__check_type_of_list, METH_VARARGS|METH_KEYWORDS, 0},
  {"asList", (PyCFunction)__pyx_f_7_region_10RegionList_asList, METH_VARARGS|METH_KEYWORDS, 0},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_RegionList = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_RegionList = {
  __pyx_f_7_region_10RegionList___len__, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  __pyx_sq_item_7_region_RegionList, /*sq_item*/
  __pyx_f_7_region_10RegionList___getslice__, /*sq_slice*/
  0, /*sq_ass_item*/
  __pyx_sq_ass_slice_7_region_RegionList, /*sq_ass_slice*/
  __pyx_f_7_region_10RegionList___contains__, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_RegionList = {
  __pyx_f_7_region_10RegionList___len__, /*mp_length*/
  __pyx_f_7_region_10RegionList___getitem__, /*mp_subscript*/
  __pyx_mp_ass_subscript_7_region_RegionList, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_RegionList = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_RegionList = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.RegionList", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_RegionList), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_RegionList, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_7_region_10RegionList___repr__, /*tp_repr*/
  &__pyx_tp_as_number_RegionList, /*tp_as_number*/
  &__pyx_tp_as_sequence_RegionList, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_RegionList, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_RegionList, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_7_region_RegionList, /*tp_traverse*/
  __pyx_tp_clear_7_region_RegionList, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_RegionList, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_10RegionList___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_RegionList, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_RegionOrList __pyx_vtable_7_region_RegionOrList;

static PyObject *__pyx_tp_new_7_region_RegionOrList(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_RegionOrList *p;
  PyObject *o = __pyx_ptype_7_region_RegionList->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_RegionOrList *)o);
  *(struct __pyx_vtabstruct_7_region_RegionOrList **)&p->__pyx_base.__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_RegionOrList;
  return o;
}

static void __pyx_tp_dealloc_7_region_RegionOrList(PyObject *o) {
  __pyx_ptype_7_region_RegionList->tp_dealloc(o);
}

static struct PyMethodDef __pyx_methods_7_region_RegionOrList[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_RegionOrList = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_RegionOrList = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_RegionOrList = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_RegionOrList = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_RegionOrList = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.RegionOrList", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_RegionOrList), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_RegionOrList, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_7_region_12RegionOrList___repr__, /*tp_repr*/
  &__pyx_tp_as_number_RegionOrList, /*tp_as_number*/
  &__pyx_tp_as_sequence_RegionOrList, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_RegionOrList, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_RegionOrList, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_RegionOrList, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_RegionOrList, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_RegionAndList __pyx_vtable_7_region_RegionAndList;

static PyObject *__pyx_tp_new_7_region_RegionAndList(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_RegionAndList *p;
  PyObject *o = __pyx_ptype_7_region_RegionList->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_RegionAndList *)o);
  *(struct __pyx_vtabstruct_7_region_RegionAndList **)&p->__pyx_base.__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_RegionAndList;
  return o;
}

static void __pyx_tp_dealloc_7_region_RegionAndList(PyObject *o) {
  __pyx_ptype_7_region_RegionList->tp_dealloc(o);
}

static struct PyMethodDef __pyx_methods_7_region_RegionAndList[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_RegionAndList = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_RegionAndList = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_RegionAndList = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_RegionAndList = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_RegionAndList = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.RegionAndList", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_RegionAndList), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_RegionAndList, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_7_region_13RegionAndList___repr__, /*tp_repr*/
  &__pyx_tp_as_number_RegionAndList, /*tp_as_number*/
  &__pyx_tp_as_sequence_RegionAndList, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_RegionAndList, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_RegionAndList, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_RegionAndList, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_RegionAndList, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_RegionAnd_OLD __pyx_vtable_7_region_RegionAnd_OLD;

static PyObject *__pyx_tp_new_7_region_RegionAnd_OLD(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_RegionAnd_OLD *p;
  PyObject *o = __pyx_ptype_7_region_RegionBase->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_RegionAnd_OLD *)o);
  *(struct __pyx_vtabstruct_7_region_RegionAnd_OLD **)&p->__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_RegionAnd_OLD;
  p->child_region1 = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  p->child_region2 = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7_region_RegionAnd_OLD(PyObject *o) {
  struct __pyx_obj_7_region_RegionAnd_OLD *p = (struct __pyx_obj_7_region_RegionAnd_OLD *)o;
  Py_XDECREF(((PyObject *)p->child_region1));
  Py_XDECREF(((PyObject *)p->child_region2));
  __pyx_ptype_7_region_RegionBase->tp_dealloc(o);
}

static int __pyx_tp_traverse_7_region_RegionAnd_OLD(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7_region_RegionAnd_OLD *p = (struct __pyx_obj_7_region_RegionAnd_OLD *)o;
  traverseproc t;
  if ((t = __pyx_ptype_7_region_RegionBase->tp_traverse)) {
    e = t(o, v, a); if (e) return e;
  }
  if (p->child_region1) {
    e = (*v)(((PyObject*)p->child_region1), a); if (e) return e;
  }
  if (p->child_region2) {
    e = (*v)(((PyObject*)p->child_region2), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7_region_RegionAnd_OLD(PyObject *o) {
  struct __pyx_obj_7_region_RegionAnd_OLD *p = (struct __pyx_obj_7_region_RegionAnd_OLD *)o;
  PyObject *t;
  inquiry c;
  if ((c = __pyx_ptype_7_region_RegionBase->tp_clear)) {
    c(o);
  }
  t = ((PyObject *)p->child_region1); 
  p->child_region1 = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(t);
  t = ((PyObject *)p->child_region2); 
  p->child_region2 = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(t);
  return 0;
}

static struct PyMethodDef __pyx_methods_7_region_RegionAnd_OLD[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_RegionAnd_OLD = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_RegionAnd_OLD = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_RegionAnd_OLD = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_RegionAnd_OLD = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_RegionAnd_OLD = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.RegionAnd_OLD", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_RegionAnd_OLD), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_RegionAnd_OLD, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_RegionAnd_OLD, /*tp_as_number*/
  &__pyx_tp_as_sequence_RegionAnd_OLD, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_RegionAnd_OLD, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_RegionAnd_OLD, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_7_region_RegionAnd_OLD, /*tp_traverse*/
  __pyx_tp_clear_7_region_RegionAnd_OLD, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_RegionAnd_OLD, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_13RegionAnd_OLD___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_RegionAnd_OLD, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_RegionOr_OLD __pyx_vtable_7_region_RegionOr_OLD;

static PyObject *__pyx_tp_new_7_region_RegionOr_OLD(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_RegionOr_OLD *p;
  PyObject *o = __pyx_ptype_7_region_RegionBase->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_RegionOr_OLD *)o);
  *(struct __pyx_vtabstruct_7_region_RegionOr_OLD **)&p->__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_RegionOr_OLD;
  p->child_region1 = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  p->child_region2 = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7_region_RegionOr_OLD(PyObject *o) {
  struct __pyx_obj_7_region_RegionOr_OLD *p = (struct __pyx_obj_7_region_RegionOr_OLD *)o;
  Py_XDECREF(((PyObject *)p->child_region1));
  Py_XDECREF(((PyObject *)p->child_region2));
  __pyx_ptype_7_region_RegionBase->tp_dealloc(o);
}

static int __pyx_tp_traverse_7_region_RegionOr_OLD(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7_region_RegionOr_OLD *p = (struct __pyx_obj_7_region_RegionOr_OLD *)o;
  traverseproc t;
  if ((t = __pyx_ptype_7_region_RegionBase->tp_traverse)) {
    e = t(o, v, a); if (e) return e;
  }
  if (p->child_region1) {
    e = (*v)(((PyObject*)p->child_region1), a); if (e) return e;
  }
  if (p->child_region2) {
    e = (*v)(((PyObject*)p->child_region2), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7_region_RegionOr_OLD(PyObject *o) {
  struct __pyx_obj_7_region_RegionOr_OLD *p = (struct __pyx_obj_7_region_RegionOr_OLD *)o;
  PyObject *t;
  inquiry c;
  if ((c = __pyx_ptype_7_region_RegionBase->tp_clear)) {
    c(o);
  }
  t = ((PyObject *)p->child_region1); 
  p->child_region1 = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(t);
  t = ((PyObject *)p->child_region2); 
  p->child_region2 = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(t);
  return 0;
}

static struct PyMethodDef __pyx_methods_7_region_RegionOr_OLD[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_RegionOr_OLD = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_RegionOr_OLD = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_RegionOr_OLD = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_RegionOr_OLD = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_RegionOr_OLD = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.RegionOr_OLD", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_RegionOr_OLD), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_RegionOr_OLD, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_RegionOr_OLD, /*tp_as_number*/
  &__pyx_tp_as_sequence_RegionOr_OLD, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_RegionOr_OLD, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_RegionOr_OLD, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_7_region_RegionOr_OLD, /*tp_traverse*/
  __pyx_tp_clear_7_region_RegionOr_OLD, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_RegionOr_OLD, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_12RegionOr_OLD___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_RegionOr_OLD, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_Transformed __pyx_vtable_7_region_Transformed;

static PyObject *__pyx_tp_new_7_region_Transformed(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_Transformed *p;
  PyObject *o = __pyx_ptype_7_region_RegionBase->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_Transformed *)o);
  *(struct __pyx_vtabstruct_7_region_Transformed **)&p->__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_Transformed;
  p->child_region = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7_region_Transformed(PyObject *o) {
  struct __pyx_obj_7_region_Transformed *p = (struct __pyx_obj_7_region_Transformed *)o;
  Py_XDECREF(((PyObject *)p->child_region));
  __pyx_ptype_7_region_RegionBase->tp_dealloc(o);
}

static int __pyx_tp_traverse_7_region_Transformed(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7_region_Transformed *p = (struct __pyx_obj_7_region_Transformed *)o;
  traverseproc t;
  if ((t = __pyx_ptype_7_region_RegionBase->tp_traverse)) {
    e = t(o, v, a); if (e) return e;
  }
  if (p->child_region) {
    e = (*v)(((PyObject*)p->child_region), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7_region_Transformed(PyObject *o) {
  struct __pyx_obj_7_region_Transformed *p = (struct __pyx_obj_7_region_Transformed *)o;
  PyObject *t;
  inquiry c;
  if ((c = __pyx_ptype_7_region_RegionBase->tp_clear)) {
    c(o);
  }
  t = ((PyObject *)p->child_region); 
  p->child_region = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(t);
  return 0;
}

static struct PyMethodDef __pyx_methods_7_region_Transformed[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Transformed = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Transformed = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Transformed = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Transformed = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_Transformed = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.Transformed", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_Transformed), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_Transformed, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Transformed, /*tp_as_number*/
  &__pyx_tp_as_sequence_Transformed, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Transformed, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Transformed, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_7_region_Transformed, /*tp_traverse*/
  __pyx_tp_clear_7_region_Transformed, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_Transformed, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_11Transformed___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_Transformed, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_Transform __pyx_vtable_7_region_Transform;

static PyObject *__pyx_tp_new_7_region_Transform(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_Transform *p;
  PyObject *o = __pyx_ptype_7_region_RegionBase->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_Transform *)o);
  *(struct __pyx_vtabstruct_7_region_Transform **)&p->__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_Transform;
  p->child_region = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7_region_Transform(PyObject *o) {
  struct __pyx_obj_7_region_Transform *p = (struct __pyx_obj_7_region_Transform *)o;
  Py_XDECREF(((PyObject *)p->child_region));
  __pyx_ptype_7_region_RegionBase->tp_dealloc(o);
}

static int __pyx_tp_traverse_7_region_Transform(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7_region_Transform *p = (struct __pyx_obj_7_region_Transform *)o;
  traverseproc t;
  if ((t = __pyx_ptype_7_region_RegionBase->tp_traverse)) {
    e = t(o, v, a); if (e) return e;
  }
  if (p->child_region) {
    e = (*v)(((PyObject*)p->child_region), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7_region_Transform(PyObject *o) {
  struct __pyx_obj_7_region_Transform *p = (struct __pyx_obj_7_region_Transform *)o;
  PyObject *t;
  inquiry c;
  if ((c = __pyx_ptype_7_region_RegionBase->tp_clear)) {
    c(o);
  }
  t = ((PyObject *)p->child_region); 
  p->child_region = ((struct __pyx_obj_7_region_RegionBase *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(t);
  return 0;
}

static PyObject *__pyx_getprop_7_region_9Transform_child(PyObject *o, void *x) {
  return __pyx_f_7_region_9Transform_5child___get__(o);
}

static struct PyMethodDef __pyx_methods_7_region_Transform[] = {
  {0, 0, 0, 0}
};

static struct PyGetSetDef __pyx_getsets_7_region_Transform[] = {
  {"child", __pyx_getprop_7_region_9Transform_child, 0, __pyx_k18, 0},
  {0, 0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Transform = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Transform = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Transform = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Transform = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_Transform = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.Transform", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_Transform), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_Transform, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Transform, /*tp_as_number*/
  &__pyx_tp_as_sequence_Transform, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Transform, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Transform, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_7_region_Transform, /*tp_traverse*/
  __pyx_tp_clear_7_region_Transform, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_Transform, /*tp_methods*/
  0, /*tp_members*/
  __pyx_getsets_7_region_Transform, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_9Transform___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_Transform, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_Rotated __pyx_vtable_7_region_Rotated;

static PyObject *__pyx_tp_new_7_region_Rotated(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_Rotated *p;
  PyObject *o = __pyx_ptype_7_region_Transform->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_Rotated *)o);
  *(struct __pyx_vtabstruct_7_region_Rotated **)&p->__pyx_base.__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_Rotated;
  return o;
}

static void __pyx_tp_dealloc_7_region_Rotated(PyObject *o) {
  __pyx_ptype_7_region_Transform->tp_dealloc(o);
}

static struct PyMethodDef __pyx_methods_7_region_Rotated[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Rotated = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Rotated = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Rotated = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Rotated = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_Rotated = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.Rotated", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_Rotated), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_Rotated, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Rotated, /*tp_as_number*/
  &__pyx_tp_as_sequence_Rotated, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Rotated, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Rotated, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_Rotated, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_7Rotated___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_Rotated, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_Translated __pyx_vtable_7_region_Translated;

static PyObject *__pyx_tp_new_7_region_Translated(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_Translated *p;
  PyObject *o = __pyx_ptype_7_region_Transform->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_Translated *)o);
  *(struct __pyx_vtabstruct_7_region_Translated **)&p->__pyx_base.__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_Translated;
  return o;
}

static void __pyx_tp_dealloc_7_region_Translated(PyObject *o) {
  __pyx_ptype_7_region_Transform->tp_dealloc(o);
}

static struct PyMethodDef __pyx_methods_7_region_Translated[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Translated = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Translated = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Translated = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Translated = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_Translated = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.Translated", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_Translated), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_Translated, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Translated, /*tp_as_number*/
  &__pyx_tp_as_sequence_Translated, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Translated, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Translated, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_Translated, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_10Translated___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_Translated, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_Circle __pyx_vtable_7_region_Circle;

static PyObject *__pyx_tp_new_7_region_Circle(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_Circle *p;
  PyObject *o = __pyx_ptype_7_region_RegionBase->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_Circle *)o);
  *(struct __pyx_vtabstruct_7_region_Circle **)&p->__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_Circle;
  return o;
}

static void __pyx_tp_dealloc_7_region_Circle(PyObject *o) {
  __pyx_ptype_7_region_RegionBase->tp_dealloc(o);
}

static struct PyMethodDef __pyx_methods_7_region_Circle[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Circle = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Circle = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Circle = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Circle = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_Circle = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.Circle", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_Circle), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_Circle, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_7_region_6Circle___repr__, /*tp_repr*/
  &__pyx_tp_as_number_Circle, /*tp_as_number*/
  &__pyx_tp_as_sequence_Circle, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Circle, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Circle, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  "\n    Circle\n    ", /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_Circle, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_6Circle___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_Circle, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_Ellipse __pyx_vtable_7_region_Ellipse;

static PyObject *__pyx_tp_new_7_region_Ellipse(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_Ellipse *p;
  PyObject *o = __pyx_ptype_7_region_RegionBase->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_Ellipse *)o);
  *(struct __pyx_vtabstruct_7_region_Ellipse **)&p->__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_Ellipse;
  return o;
}

static void __pyx_tp_dealloc_7_region_Ellipse(PyObject *o) {
  __pyx_ptype_7_region_RegionBase->tp_dealloc(o);
}

static struct PyMethodDef __pyx_methods_7_region_Ellipse[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Ellipse = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Ellipse = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Ellipse = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Ellipse = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_Ellipse = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.Ellipse", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_Ellipse), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_Ellipse, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  __pyx_f_7_region_7Ellipse___repr__, /*tp_repr*/
  &__pyx_tp_as_number_Ellipse, /*tp_as_number*/
  &__pyx_tp_as_sequence_Ellipse, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Ellipse, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Ellipse, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_Ellipse, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_7Ellipse___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_Ellipse, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_Box __pyx_vtable_7_region_Box;

static PyObject *__pyx_tp_new_7_region_Box(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_Box *p;
  PyObject *o = __pyx_ptype_7_region_RegionBase->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_Box *)o);
  *(struct __pyx_vtabstruct_7_region_Box **)&p->__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_Box;
  return o;
}

static void __pyx_tp_dealloc_7_region_Box(PyObject *o) {
  __pyx_ptype_7_region_RegionBase->tp_dealloc(o);
}

static struct PyMethodDef __pyx_methods_7_region_Box[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Box = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Box = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Box = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Box = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_Box = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.Box", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_Box), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_Box, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Box, /*tp_as_number*/
  &__pyx_tp_as_sequence_Box, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Box, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Box, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  0, /*tp_doc*/
  0, /*tp_traverse*/
  0, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_Box, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_3Box___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_Box, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};
static struct __pyx_vtabstruct_7_region_Polygon __pyx_vtable_7_region_Polygon;

static PyObject *__pyx_tp_new_7_region_Polygon(PyTypeObject *t, PyObject *a, PyObject *k) {
  struct __pyx_obj_7_region_Polygon *p;
  PyObject *o = __pyx_ptype_7_region_RegionBase->tp_new(t, a, k);
  if (!o) return 0;
  p = ((struct __pyx_obj_7_region_Polygon *)o);
  *(struct __pyx_vtabstruct_7_region_Polygon **)&p->__pyx_base.__pyx_vtab = __pyx_vtabptr_7_region_Polygon;
  p->xa = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  p->ya = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  return o;
}

static void __pyx_tp_dealloc_7_region_Polygon(PyObject *o) {
  struct __pyx_obj_7_region_Polygon *p = (struct __pyx_obj_7_region_Polygon *)o;
  Py_XDECREF(((PyObject *)p->xa));
  Py_XDECREF(((PyObject *)p->ya));
  __pyx_ptype_7_region_RegionBase->tp_dealloc(o);
}

static int __pyx_tp_traverse_7_region_Polygon(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_7_region_Polygon *p = (struct __pyx_obj_7_region_Polygon *)o;
  traverseproc t;
  if ((t = __pyx_ptype_7_region_RegionBase->tp_traverse)) {
    e = t(o, v, a); if (e) return e;
  }
  if (p->xa) {
    e = (*v)(((PyObject*)p->xa), a); if (e) return e;
  }
  if (p->ya) {
    e = (*v)(((PyObject*)p->ya), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_7_region_Polygon(PyObject *o) {
  struct __pyx_obj_7_region_Polygon *p = (struct __pyx_obj_7_region_Polygon *)o;
  PyObject *t;
  inquiry c;
  if ((c = __pyx_ptype_7_region_RegionBase->tp_clear)) {
    c(o);
  }
  t = ((PyObject *)p->xa); 
  p->xa = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(t);
  t = ((PyObject *)p->ya); 
  p->ya = ((PyArrayObject *)Py_None); Py_INCREF(Py_None);
  Py_XDECREF(t);
  return 0;
}

static struct PyMethodDef __pyx_methods_7_region_Polygon[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Polygon = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_Polygon = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Polygon = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Polygon = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_7_region_Polygon = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_region.Polygon", /*tp_name*/
  sizeof(struct __pyx_obj_7_region_Polygon), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_7_region_Polygon, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Polygon, /*tp_as_number*/
  &__pyx_tp_as_sequence_Polygon, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Polygon, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Polygon, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_7_region_Polygon, /*tp_traverse*/
  __pyx_tp_clear_7_region_Polygon, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_7_region_Polygon, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_7_region_7Polygon___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_7_region_Polygon, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
  {"RegionAnd", (PyCFunction)__pyx_f_7_region_RegionAnd, METH_VARARGS|METH_KEYWORDS, 0},
  {"RegionOr", (PyCFunction)__pyx_f_7_region_RegionOr, METH_VARARGS|METH_KEYWORDS, 0},
  {0, 0, 0, 0}
};

static void __pyx_init_filenames(void); /*proto*/

PyMODINIT_FUNC init_region(void); /*proto*/
PyMODINIT_FUNC init_region(void) {
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  __pyx_init_filenames();
  __pyx_m = Py_InitModule4("_region", __pyx_methods, 0, 0, PYTHON_API_VERSION);
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2; goto __pyx_L1;};
  Py_INCREF(__pyx_m);
  __pyx_b = PyImport_AddModule("__builtin__");
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2; goto __pyx_L1;};
  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2; goto __pyx_L1;};
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 2; goto __pyx_L1;};
  __pyx_v_7_region_metric_wcs = ((struct __pyx_obj_7_region_RegionContext *)Py_None); Py_INCREF(Py_None);
  __pyx_vtabptr_7_region_RegionContext = &__pyx_vtable_7_region_RegionContext;
  *(void(**)(void))&__pyx_vtable_7_region_RegionContext.set_update_func = (void(*)(void))__pyx_f_7_region_13RegionContext_set_update_func;
  if (PyType_Ready(&__pyx_type_7_region_RegionContext) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_RegionContext.tp_dict, __pyx_vtabptr_7_region_RegionContext) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "RegionContext", (PyObject *)&__pyx_type_7_region_RegionContext) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 53; goto __pyx_L1;}
  __pyx_ptype_7_region_RegionContext = &__pyx_type_7_region_RegionContext;
  __pyx_vtabptr_7_region_RegionBase = &__pyx_vtable_7_region_RegionBase;
  *(void(**)(void))&__pyx_vtable_7_region_RegionBase.update_metric = (void(*)(void))__pyx_f_7_region_10RegionBase_update_metric;
  *(void(**)(void))&__pyx_vtable_7_region_RegionBase.metric_set_origin = (void(*)(void))__pyx_f_7_region_10RegionBase_metric_set_origin;
  *(void(**)(void))&__pyx_vtable_7_region_RegionBase._inside = (void(*)(void))__pyx_f_7_region_10RegionBase__inside;
  *(void(**)(void))&__pyx_vtable_7_region_RegionBase._mask = (void(*)(void))__pyx_f_7_region_10RegionBase__mask;
  __pyx_type_7_region_RegionBase.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7_region_RegionBase) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 91; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_RegionBase.tp_dict, __pyx_vtabptr_7_region_RegionBase) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 91; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "RegionBase", (PyObject *)&__pyx_type_7_region_RegionBase) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 91; goto __pyx_L1;}
  __pyx_ptype_7_region_RegionBase = &__pyx_type_7_region_RegionBase;
  __pyx_vtabptr_7_region_RegionNot = &__pyx_vtable_7_region_RegionNot;
  __pyx_vtable_7_region_RegionNot.__pyx_base = *__pyx_vtabptr_7_region_RegionBase;
  *(void(**)(void))&__pyx_vtable_7_region_RegionNot.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_9RegionNot__inside;
  __pyx_type_7_region_RegionNot.tp_base = __pyx_ptype_7_region_RegionBase;
  __pyx_type_7_region_RegionNot.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7_region_RegionNot) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 255; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_RegionNot.tp_dict, __pyx_vtabptr_7_region_RegionNot) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 255; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "RegionNot", (PyObject *)&__pyx_type_7_region_RegionNot) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 255; goto __pyx_L1;}
  __pyx_ptype_7_region_RegionNot = &__pyx_type_7_region_RegionNot;
  __pyx_vtabptr_7_region_RegionList = &__pyx_vtable_7_region_RegionList;
  __pyx_vtable_7_region_RegionList.__pyx_base = *__pyx_vtabptr_7_region_RegionBase;
  __pyx_type_7_region_RegionList.tp_base = __pyx_ptype_7_region_RegionBase;
  __pyx_type_7_region_RegionList.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7_region_RegionList) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 265; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_RegionList.tp_dict, __pyx_vtabptr_7_region_RegionList) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 265; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "RegionList", (PyObject *)&__pyx_type_7_region_RegionList) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 265; goto __pyx_L1;}
  __pyx_ptype_7_region_RegionList = &__pyx_type_7_region_RegionList;
  __pyx_vtabptr_7_region_RegionOrList = &__pyx_vtable_7_region_RegionOrList;
  __pyx_vtable_7_region_RegionOrList.__pyx_base = *__pyx_vtabptr_7_region_RegionList;
  *(void(**)(void))&__pyx_vtable_7_region_RegionOrList.__pyx_base.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_12RegionOrList__inside;
  __pyx_type_7_region_RegionOrList.tp_base = __pyx_ptype_7_region_RegionList;
  if (PyType_Ready(&__pyx_type_7_region_RegionOrList) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_RegionOrList.tp_dict, __pyx_vtabptr_7_region_RegionOrList) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "RegionOrList", (PyObject *)&__pyx_type_7_region_RegionOrList) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 309; goto __pyx_L1;}
  __pyx_ptype_7_region_RegionOrList = &__pyx_type_7_region_RegionOrList;
  __pyx_vtabptr_7_region_RegionAndList = &__pyx_vtable_7_region_RegionAndList;
  __pyx_vtable_7_region_RegionAndList.__pyx_base = *__pyx_vtabptr_7_region_RegionList;
  *(void(**)(void))&__pyx_vtable_7_region_RegionAndList.__pyx_base.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_13RegionAndList__inside;
  __pyx_type_7_region_RegionAndList.tp_base = __pyx_ptype_7_region_RegionList;
  if (PyType_Ready(&__pyx_type_7_region_RegionAndList) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_RegionAndList.tp_dict, __pyx_vtabptr_7_region_RegionAndList) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "RegionAndList", (PyObject *)&__pyx_type_7_region_RegionAndList) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; goto __pyx_L1;}
  __pyx_ptype_7_region_RegionAndList = &__pyx_type_7_region_RegionAndList;
  __pyx_vtabptr_7_region_RegionAnd_OLD = &__pyx_vtable_7_region_RegionAnd_OLD;
  __pyx_vtable_7_region_RegionAnd_OLD.__pyx_base = *__pyx_vtabptr_7_region_RegionBase;
  *(void(**)(void))&__pyx_vtable_7_region_RegionAnd_OLD.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_13RegionAnd_OLD__inside;
  __pyx_type_7_region_RegionAnd_OLD.tp_base = __pyx_ptype_7_region_RegionBase;
  __pyx_type_7_region_RegionAnd_OLD.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7_region_RegionAnd_OLD) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_RegionAnd_OLD.tp_dict, __pyx_vtabptr_7_region_RegionAnd_OLD) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "RegionAnd_OLD", (PyObject *)&__pyx_type_7_region_RegionAnd_OLD) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; goto __pyx_L1;}
  __pyx_ptype_7_region_RegionAnd_OLD = &__pyx_type_7_region_RegionAnd_OLD;
  __pyx_vtabptr_7_region_RegionOr_OLD = &__pyx_vtable_7_region_RegionOr_OLD;
  __pyx_vtable_7_region_RegionOr_OLD.__pyx_base = *__pyx_vtabptr_7_region_RegionBase;
  *(void(**)(void))&__pyx_vtable_7_region_RegionOr_OLD.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_12RegionOr_OLD__inside;
  __pyx_type_7_region_RegionOr_OLD.tp_base = __pyx_ptype_7_region_RegionBase;
  __pyx_type_7_region_RegionOr_OLD.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7_region_RegionOr_OLD) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_RegionOr_OLD.tp_dict, __pyx_vtabptr_7_region_RegionOr_OLD) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "RegionOr_OLD", (PyObject *)&__pyx_type_7_region_RegionOr_OLD) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
  __pyx_ptype_7_region_RegionOr_OLD = &__pyx_type_7_region_RegionOr_OLD;
  __pyx_vtabptr_7_region_Transformed = &__pyx_vtable_7_region_Transformed;
  __pyx_vtable_7_region_Transformed.__pyx_base = *__pyx_vtabptr_7_region_RegionBase;
  *(void(**)(void))&__pyx_vtable_7_region_Transformed.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_11Transformed__inside;
  *(void(**)(void))&__pyx_vtable_7_region_Transformed._transform = (void(*)(void))__pyx_f_7_region_11Transformed__transform;
  __pyx_type_7_region_Transformed.tp_base = __pyx_ptype_7_region_RegionBase;
  __pyx_type_7_region_Transformed.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7_region_Transformed) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_Transformed.tp_dict, __pyx_vtabptr_7_region_Transformed) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Transformed", (PyObject *)&__pyx_type_7_region_Transformed) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; goto __pyx_L1;}
  __pyx_ptype_7_region_Transformed = &__pyx_type_7_region_Transformed;
  __pyx_vtabptr_7_region_Transform = &__pyx_vtable_7_region_Transform;
  __pyx_vtable_7_region_Transform.__pyx_base = *__pyx_vtabptr_7_region_RegionBase;
  *(void(**)(void))&__pyx_vtable_7_region_Transform.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_9Transform__inside;
  *(void(**)(void))&__pyx_vtable_7_region_Transform._transform = (void(*)(void))__pyx_f_7_region_9Transform__transform;
  __pyx_type_7_region_Transform.tp_base = __pyx_ptype_7_region_RegionBase;
  __pyx_type_7_region_Transform.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7_region_Transform) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 453; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_Transform.tp_dict, __pyx_vtabptr_7_region_Transform) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 453; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Transform", (PyObject *)&__pyx_type_7_region_Transform) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 453; goto __pyx_L1;}
  __pyx_ptype_7_region_Transform = &__pyx_type_7_region_Transform;
  __pyx_vtabptr_7_region_Rotated = &__pyx_vtable_7_region_Rotated;
  __pyx_vtable_7_region_Rotated.__pyx_base = *__pyx_vtabptr_7_region_Transform;
  *(void(**)(void))&__pyx_vtable_7_region_Rotated.__pyx_base._transform = (void(*)(void))__pyx_f_7_region_7Rotated__transform;
  __pyx_type_7_region_Rotated.tp_base = __pyx_ptype_7_region_Transform;
  if (PyType_Ready(&__pyx_type_7_region_Rotated) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_Rotated.tp_dict, __pyx_vtabptr_7_region_Rotated) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Rotated", (PyObject *)&__pyx_type_7_region_Rotated) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; goto __pyx_L1;}
  __pyx_ptype_7_region_Rotated = &__pyx_type_7_region_Rotated;
  __pyx_vtabptr_7_region_Translated = &__pyx_vtable_7_region_Translated;
  __pyx_vtable_7_region_Translated.__pyx_base = *__pyx_vtabptr_7_region_Transform;
  *(void(**)(void))&__pyx_vtable_7_region_Translated.__pyx_base._transform = (void(*)(void))__pyx_f_7_region_10Translated__transform;
  __pyx_type_7_region_Translated.tp_base = __pyx_ptype_7_region_Transform;
  if (PyType_Ready(&__pyx_type_7_region_Translated) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_Translated.tp_dict, __pyx_vtabptr_7_region_Translated) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Translated", (PyObject *)&__pyx_type_7_region_Translated) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 530; goto __pyx_L1;}
  __pyx_ptype_7_region_Translated = &__pyx_type_7_region_Translated;
  __pyx_vtabptr_7_region_Circle = &__pyx_vtable_7_region_Circle;
  __pyx_vtable_7_region_Circle.__pyx_base = *__pyx_vtabptr_7_region_RegionBase;
  *(void(**)(void))&__pyx_vtable_7_region_Circle.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_6Circle__inside;
  *(void(**)(void))&__pyx_vtable_7_region_Circle._set_v = (void(*)(void))__pyx_f_7_region_6Circle__set_v;
  *(void(**)(void))&__pyx_vtable_7_region_Circle._get_v = (void(*)(void))__pyx_f_7_region_6Circle__get_v;
  __pyx_type_7_region_Circle.tp_base = __pyx_ptype_7_region_RegionBase;
  if (PyType_Ready(&__pyx_type_7_region_Circle) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 555; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_Circle.tp_dict, __pyx_vtabptr_7_region_Circle) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 555; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Circle", (PyObject *)&__pyx_type_7_region_Circle) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 555; goto __pyx_L1;}
  __pyx_ptype_7_region_Circle = &__pyx_type_7_region_Circle;
  __pyx_vtabptr_7_region_Ellipse = &__pyx_vtable_7_region_Ellipse;
  __pyx_vtable_7_region_Ellipse.__pyx_base = *__pyx_vtabptr_7_region_RegionBase;
  *(void(**)(void))&__pyx_vtable_7_region_Ellipse.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_7Ellipse__inside;
  __pyx_type_7_region_Ellipse.tp_base = __pyx_ptype_7_region_RegionBase;
  if (PyType_Ready(&__pyx_type_7_region_Ellipse) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_Ellipse.tp_dict, __pyx_vtabptr_7_region_Ellipse) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Ellipse", (PyObject *)&__pyx_type_7_region_Ellipse) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 599; goto __pyx_L1;}
  __pyx_ptype_7_region_Ellipse = &__pyx_type_7_region_Ellipse;
  __pyx_vtabptr_7_region_Box = &__pyx_vtable_7_region_Box;
  __pyx_vtable_7_region_Box.__pyx_base = *__pyx_vtabptr_7_region_RegionBase;
  *(void(**)(void))&__pyx_vtable_7_region_Box.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_3Box__inside;
  __pyx_type_7_region_Box.tp_base = __pyx_ptype_7_region_RegionBase;
  if (PyType_Ready(&__pyx_type_7_region_Box) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 640; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_Box.tp_dict, __pyx_vtabptr_7_region_Box) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 640; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Box", (PyObject *)&__pyx_type_7_region_Box) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 640; goto __pyx_L1;}
  __pyx_ptype_7_region_Box = &__pyx_type_7_region_Box;
  __pyx_vtabptr_7_region_Polygon = &__pyx_vtable_7_region_Polygon;
  __pyx_vtable_7_region_Polygon.__pyx_base = *__pyx_vtabptr_7_region_RegionBase;
  *(void(**)(void))&__pyx_vtable_7_region_Polygon.__pyx_base._inside = (void(*)(void))__pyx_f_7_region_7Polygon__inside;
  __pyx_type_7_region_Polygon.tp_base = __pyx_ptype_7_region_RegionBase;
  __pyx_type_7_region_Polygon.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_7_region_Polygon) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 669; goto __pyx_L1;}
  if (__Pyx_SetVtable(__pyx_type_7_region_Polygon.tp_dict, __pyx_vtabptr_7_region_Polygon) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 669; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Polygon", (PyObject *)&__pyx_type_7_region_Polygon) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 669; goto __pyx_L1;}
  __pyx_ptype_7_region_Polygon = &__pyx_type_7_region_Polygon;
  __pyx_ptype_7c_numpy_dtype = __Pyx_ImportType("numpy", "dtype", sizeof(PyArray_Descr)); if (!__pyx_ptype_7c_numpy_dtype) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 78; goto __pyx_L1;}
  __pyx_ptype_7c_numpy_ndarray = __Pyx_ImportType("numpy", "ndarray", sizeof(PyArrayObject)); if (!__pyx_ptype_7c_numpy_ndarray) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 83; goto __pyx_L1;}
  __pyx_ptype_7c_numpy_flatiter = __Pyx_ImportType("numpy", "flatiter", sizeof(PyArrayIterObject)); if (!__pyx_ptype_7c_numpy_flatiter) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 92; goto __pyx_L1;}
  __pyx_ptype_7c_numpy_broadcast = __Pyx_ImportType("numpy", "broadcast", sizeof(PyArrayMultiIterObject)); if (!__pyx_ptype_7c_numpy_broadcast) {__pyx_filename = __pyx_f[1]; __pyx_lineno = 98; goto __pyx_L1;}

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":26 */
  import_array();

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":31 */
  __pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 31; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 31; goto __pyx_L1;}
  Py_INCREF(PyExc_Exception);
  PyTuple_SET_ITEM(__pyx_2, 0, PyExc_Exception);
  __pyx_3 = __Pyx_CreateClass(__pyx_2, __pyx_1, __pyx_n_NotYetImplemented, "_region"); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 31; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_NotYetImplemented, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 31; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":82 */
  __pyx_2 = PyObject_CallObject(((PyObject *)__pyx_ptype_7_region_RegionContext), 0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 82; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_7_region_metric_wcs));
  __pyx_v_7_region_metric_wcs = ((struct __pyx_obj_7_region_RegionContext *)__pyx_2);
  __pyx_2 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":83 */
  __pyx_3 = ((struct __pyx_vtabstruct_7_region_RegionContext *)__pyx_v_7_region_metric_wcs->__pyx_vtab)->set_update_func(__pyx_v_7_region_metric_wcs,__pyx_f_7_region__update_metric_wcs); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 83; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":87 */
  __pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 87; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 87; goto __pyx_L1;}
  Py_INCREF(PyExc_Exception);
  PyTuple_SET_ITEM(__pyx_2, 0, PyExc_Exception);
  __pyx_3 = __Pyx_CreateClass(__pyx_2, __pyx_1, __pyx_n_BaseClassInitException, "_region"); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 87; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (PyObject_SetAttr(__pyx_m, __pyx_n_BaseClassInitException, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 87; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":577 */
  Py_INCREF(Py_None);
  __pyx_d1 = ((struct __pyx_obj_7_region_RegionContext *)Py_None);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":609 */
  Py_INCREF(Py_None);
  __pyx_d2 = ((struct __pyx_obj_7_region_RegionContext *)Py_None);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":647 */
  Py_INCREF(Py_None);
  __pyx_d3 = ((struct __pyx_obj_7_region_RegionContext *)Py_None);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":680 */
  Py_INCREF(Py_None);
  __pyx_d4 = ((struct __pyx_obj_7_region_RegionContext *)Py_None);

  /* "/Users/jjlee/local/git/pyregion/src/_region.pyx":693 */
  return;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_region");
}

static char *__pyx_filenames[] = {
  "_region.pyx",
  "c_numpy.pxd",
};

/* Runtime support code */

static void __pyx_init_filenames(void) {
  __pyx_f = __pyx_filenames;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    #if PY_VERSION_HEX < 0x02050000
    if (!PyClass_Check(type))
    #else
    if (!PyType_Check(type))
    #endif
    {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto raise_error;
        }
        /* Normalize to raise <class>, <instance> */
        Py_DECREF(value);
        value = type;
        #if PY_VERSION_HEX < 0x02050000
            if (PyInstance_Check(type)) {
                type = (PyObject*) ((PyInstanceObject*)type)->in_class;
                Py_INCREF(type);
            }
            else {
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception must be an old-style class or instance");
                goto raise_error;
            }
        #else
            type = (PyObject*) type->ob_type;
            Py_INCREF(type);
            if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception class must be a subclass of BaseException");
                goto raise_error;
            }
        #endif
    }
    PyErr_Restore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if ((none_allowed && obj == Py_None) || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError,
        "Argument '%s' has incorrect type (expected %s, got %s)",
        name, type->tp_name, obj->ob_type->tp_name);
    return 0;
}

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (obj == Py_None || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError, "Cannot convert %s to %s",
        obj->ob_type->tp_name, type->tp_name);
    return 0;
}

static int __Pyx_GetStarArgs(
    PyObject **args, 
    PyObject **kwds,
    char *kwd_list[], 
    Py_ssize_t nargs,
    PyObject **args2, 
    PyObject **kwds2,
    char rqd_kwds[])
{
    PyObject *x = 0, *args1 = 0, *kwds1 = 0;
    int i;
    char **p;
    
    if (args2)
        *args2 = 0;
    if (kwds2)
        *kwds2 = 0;
    
    if (args2) {
        args1 = PyTuple_GetSlice(*args, 0, nargs);
        if (!args1)
            goto bad;
        *args2 = PyTuple_GetSlice(*args, nargs, PyTuple_GET_SIZE(*args));
        if (!*args2)
            goto bad;
    }
    else if (PyTuple_GET_SIZE(*args) > nargs) {
        int m = nargs;
        int n = PyTuple_GET_SIZE(*args);
        PyErr_Format(PyExc_TypeError,
            "function takes at most %d positional arguments (%d given)",
                m, n);
        goto bad;
    }
    else {
        args1 = *args;
        Py_INCREF(args1);
    }
    
    if (rqd_kwds && !*kwds)
            for (i = 0, p = kwd_list; *p; i++, p++)
                if (rqd_kwds[i])
                    goto missing_kwarg;
    
    if (kwds2) {
        if (*kwds) {
            kwds1 = PyDict_New();
            if (!kwds1)
                goto bad;
            *kwds2 = PyDict_Copy(*kwds);
            if (!*kwds2)
                goto bad;
            for (i = 0, p = kwd_list; *p; i++, p++) {
                x = PyDict_GetItemString(*kwds, *p);
                if (x) {
                    if (PyDict_SetItemString(kwds1, *p, x) < 0)
                        goto bad;
                    if (PyDict_DelItemString(*kwds2, *p) < 0)
                        goto bad;
                }
                else if (rqd_kwds && rqd_kwds[i])
                    goto missing_kwarg;
            }
        }
        else {
            *kwds2 = PyDict_New();
            if (!*kwds2)
                goto bad;
        }
    }
    else {
        kwds1 = *kwds;
        Py_XINCREF(kwds1);
        if (rqd_kwds && *kwds)
            for (i = 0, p = kwd_list; *p; i++, p++)
                if (rqd_kwds[i] && !PyDict_GetItemString(*kwds, *p))
                        goto missing_kwarg;
    }
    
    *args = args1;
    *kwds = kwds1;
    return 0;
missing_kwarg:
    PyErr_Format(PyExc_TypeError,
        "required keyword argument '%s' is missing", *p);
bad:
    Py_XDECREF(args1);
    Py_XDECREF(kwds1);
    if (args2) {
        Py_XDECREF(*args2);
    }
    if (kwds2) {
        Py_XDECREF(*kwds2);
    }
    return -1;
}

static PyObject *__Pyx_GetItemInt(PyObject *o, Py_ssize_t i) {
    PyTypeObject *t = o->ob_type;
    PyObject *r;
    if (t->tp_as_sequence && t->tp_as_sequence->sq_item)
        r = PySequence_GetItem(o, i);
    else {
        PyObject *j = PyInt_FromLong(i);
        if (!j)
            return 0;
        r = PyObject_GetItem(o, j);
        Py_DECREF(j);
    }
    return r;
}

static int __Pyx_SetItemInt(PyObject *o, Py_ssize_t i, PyObject *v) {
    PyTypeObject *t = o->ob_type;
    int r;
    if (t->tp_as_sequence && t->tp_as_sequence->sq_item)
        r = PySequence_SetItem(o, i, v);
    else {
        PyObject *j = PyInt_FromLong(i);
        if (!j)
            return -1;
        r = PyObject_SetItem(o, j, v);
        Py_DECREF(j);
    }
    return r;
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        if (!*t->p)
            return -1;
        if (t->i)
            PyString_InternInPlace(t->p);
        ++t;
    }
    return 0;
}

static int __Pyx_SetVtable(PyObject *dict, void *vtable) {
    PyObject *pycobj = 0;
    int result;
    
    pycobj = PyCObject_FromVoidPtr(vtable, 0);
    if (!pycobj)
        goto bad;
    if (PyDict_SetItemString(dict, "__pyx_vtable__", pycobj) < 0)
        goto bad;
    result = 0;
    goto done;

bad:
    result = -1;
done:
    Py_XDECREF(pycobj);
    return result;
}

#ifndef __PYX_HAVE_RT_ImportType
#define __PYX_HAVE_RT_ImportType
static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name, 
    long size) 
{
    PyObject *py_module = 0;
    PyObject *result = 0;
    
    py_module = __Pyx_ImportModule(module_name);
    if (!py_module)
        goto bad;
    result = PyObject_GetAttrString(py_module, class_name);
    if (!result)
        goto bad;
    if (!PyType_Check(result)) {
        PyErr_Format(PyExc_TypeError, 
            "%s.%s is not a type object",
            module_name, class_name);
        goto bad;
    }
    if (((PyTypeObject *)result)->tp_basicsize != size) {
        PyErr_Format(PyExc_ValueError, 
            "%s.%s does not appear to be the correct type object",
            module_name, class_name);
        goto bad;
    }
    return (PyTypeObject *)result;
bad:
    Py_XDECREF(result);
    return 0;
}
#endif

#ifndef __PYX_HAVE_RT_ImportModule
#define __PYX_HAVE_RT_ImportModule
static PyObject *__Pyx_ImportModule(char *name) {
    PyObject *py_name = 0;
    
    py_name = PyString_FromString(name);
    if (!py_name)
        goto bad;
    return PyImport_Import(py_name);
bad:
    Py_XDECREF(py_name);
    return 0;
}
#endif

static PyObject *__Pyx_CreateClass(
    PyObject *bases, PyObject *dict, PyObject *name, char *modname)
{
    PyObject *py_modname;
    PyObject *result = 0;
    
    py_modname = PyString_FromString(modname);
    if (!py_modname)
        goto bad;
    if (PyDict_SetItemString(dict, "__module__", py_modname) < 0)
        goto bad;
    result = PyClass_New(bases, dict, name);
bad:
    Py_XDECREF(py_modname);
    return result;
}

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_tuple = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;
    
    py_srcfile = PyString_FromString(__pyx_filename);
    if (!py_srcfile) goto bad;
    py_funcname = PyString_FromString(funcname);
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    empty_tuple = PyTuple_New(0);
    if (!empty_tuple) goto bad;
    empty_string = PyString_FromString("");
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        empty_tuple,  /*PyObject *consts,*/
        empty_tuple,  /*PyObject *names,*/
        empty_tuple,  /*PyObject *varnames,*/
        empty_tuple,  /*PyObject *freevars,*/
        empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_Get(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_tuple);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}
